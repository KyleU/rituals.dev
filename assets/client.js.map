{
  "version": 3,
  "sources": ["../client/src/dom.ts", "../client/src/jsx.ts", "../client/src/menu.ts", "../client/src/mode.ts", "../client/src/flash.ts", "../client/src/link.ts", "../client/src/time.ts", "../client/src/autocomplete.ts", "../client/src/modal.ts", "../client/src/util.ts", "../client/src/tags.ts", "../client/src/editor.ts", "../client/src/theme.ts", "../client/src/socket.ts", "../client/src/members.tsx", "../client/src/member.ts", "../client/src/comments.tsx", "../client/src/comment.ts", "../client/src/workspace.ts", "../client/src/permission.ts", "../client/src/team.ts", "../client/src/sprint.ts", "../client/src/stories.tsx", "../client/src/storymodal.ts", "../client/src/story.ts", "../client/src/estimate.ts", "../client/src/reports.tsx", "../client/src/report.ts", "../client/src/standup.ts", "../client/src/feedbacks.tsx", "../client/src/feedback.ts", "../client/src/retro.ts", "../client/src/handle.ts", "../client/src/app.ts", "../client/src/client.ts"],
  "sourcesContent": ["// Content managed by Project Forge, see [projectforge.md] for details.\n// @ts-ignore\nimport * as JSX from \"./jsx\"; // eslint-disable-line @typescript-eslint/no-unused-vars\n\nexport function els<T extends HTMLElement>(selector: string, context?: Element): readonly T[] {\n  let result: NodeListOf<Element>;\n  if (context) {\n    result = context.querySelectorAll(selector);\n  } else {\n    result = document.querySelectorAll(selector);\n  }\n  const ret: T[] = [];\n  result.forEach((v) => {\n    ret.push(v as T);\n  });\n  return ret;\n}\n\nexport function opt<T extends HTMLElement>(selector: string, context?: Element): T | undefined {\n  const e = els<T>(selector, context);\n  switch (e.length) {\n    case 0:\n      return undefined;\n    case 1:\n      return e[0];\n    default:\n      console.warn(`found [${e.length}] elements with selector [${selector}], wanted zero or one`);\n  }\n}\n\nexport function req<T extends HTMLElement>(selector: string, context?: Element): T {\n  const res = opt<T>(selector, context);\n  if (!res) {\n    throw new Error(`no element found for selector [${selector}]`);\n  }\n  return res;\n}\n\nexport function setHTML(el: string | HTMLElement, html: string) {\n  if (typeof el === \"string\") {\n    el = req(el);\n  }\n  el.innerHTML = html;\n  return el;\n}\n\nexport function setDisplay(el: string | HTMLElement, condition: boolean, v = \"block\") {\n  if (typeof el === \"string\") {\n    el = req(el);\n  }\n\n  el.style.display = condition ? v : \"none\";\n  return el;\n}\n\nexport function clear(el: string | HTMLElement) {\n  return setHTML(el, \"\");\n}\n\nexport function setContent(el: string | HTMLElement, e: Element | Element[]) {\n  if (typeof el === \"string\") {\n    el = req(el);\n  }\n  clear(el);\n  const h = el as HTMLElement;\n  if (Array.isArray(e)) {\n    e.forEach((x) => h.appendChild(x));\n  } else {\n    el.appendChild(e);\n  }\n  return el;\n}\n\nexport function setText(el: string | HTMLElement, text: string): HTMLElement {\n  if (typeof el === \"string\") {\n    el = req(el);\n  }\n  el.innerText = text;\n  return el;\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport {setHTML} from \"./dom\";\n\ndeclare global {\n  namespace JSX { // eslint-disable-line @typescript-eslint/no-namespace, no-shadow\n    type IntrinsicElements = {\n      [elemName: string]: unknown;\n    }\n  }\n}\n\n// noinspection JSUnusedGlobalSymbols\nexport function JSX(tag: string, attrs: any[], ...args: Node[]) { // eslint-disable-line @typescript-eslint/no-explicit-any\n  const e = document.createElement(tag);\n  for (let name in attrs) {\n    if (name === \"for\") {\n      name = \"for\";\n    }\n    if (name === \"className\") {\n      name = \"class\";\n    }\n    if (name && attrs.hasOwnProperty(name)) { // eslint-disable-line no-prototype-builtins\n      const v = attrs[name];\n      if (name === \"dangerouslySetInnerHTML\") {\n        setHTML(e, v.__html); // eslint-disable-line no-underscore-dangle\n      } else if (v === true) {\n        e.setAttribute(name, name);\n      } else if (v !== false && v !== null && v !== undefined) {\n        e.setAttribute(name, v.toString());\n      }\n    }\n  }\n  for (let child of args) {\n    if (Array.isArray(child)) {\n      child.forEach((c) => {\n        if (child === undefined || child === null) {\n          throw new Error(`child array for tag [${tag}] is ${child}\\n${e.outerHTML}`);\n        }\n        if (c === undefined || c === null) {\n          throw new Error(`child for tag [${tag}] is ${c}\\n${e.outerHTML}`);\n        }\n        if (typeof c === \"string\") {\n          c = document.createTextNode(c);\n        }\n        e.appendChild(c);\n      });\n    } else if (child === undefined || child === null) {\n      throw new Error(`child for tag [${tag}] is ${child}\\n${e.outerHTML}`);\n    } else {\n      if (!child.nodeType) {\n        child = document.createTextNode(child.toString());\n      }\n      e.appendChild(child);\n    }\n  }\n  return e;\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport {els} from \"./dom\";\n\nexport function menuInit() {\n  for (const n of els(\".menu-container .final\")) {\n    n.scrollIntoView({block: \"nearest\"});\n  }\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport {els} from \"./dom\";\n\nconst l = \"mode-light\";\nconst d = \"mode-dark\";\n\nexport function modeInit() {\n  for (const el of els<HTMLInputElement>(\".mode-input\")) {\n    el.onclick = () => {\n      switch (el.value) {\n        case \"\":\n          document.body.classList.remove(l);\n          document.body.classList.remove(d);\n          break;\n        case \"light\":\n          document.body.classList.add(l);\n          document.body.classList.remove(d);\n          break;\n        case \"dark\":\n          document.body.classList.remove(l);\n          document.body.classList.add(d);\n          break;\n      }\n    };\n  }\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nfunction fade(el: HTMLElement) {\n  setTimeout(() => {\n    el.style.opacity = \"0\";\n    setTimeout(() => el.remove(), 500);\n  }, 5000);\n}\n\nexport function flashCreate(key: string, level: \"success\" | \"error\", msg: string) {\n  let container = document.getElementById(\"flash-container\");\n  if (container === null) {\n    container = document.createElement(\"div\");\n    container.id = \"flash-container\";\n    document.body.insertAdjacentElement(\"afterbegin\", container);\n  }\n  const fl = document.createElement(\"div\");\n  fl.className = \"flash\";\n\n  const radio = document.createElement(\"input\");\n  radio.type = \"radio\";\n  radio.style.display = \"none\";\n  radio.id = \"hide-flash-\" + key;\n  fl.appendChild(radio);\n\n  const label = document.createElement(\"label\");\n  label.htmlFor = \"hide-flash-\" + key;\n  const close = document.createElement(\"span\");\n  close.innerHTML = \"\u00D7\";\n  label.appendChild(close);\n  fl.appendChild(label);\n\n  const content = document.createElement(\"div\");\n  content.className = \"content flash-\" + level;\n  content.innerText = msg;\n  fl.appendChild(content);\n\n  container.appendChild(fl);\n  fade(fl);\n}\n\nexport function flashInit() {\n  const container = document.getElementById(\"flash-container\");\n  if (container === null) {\n    return flashCreate;\n  }\n  const x = container.querySelectorAll<HTMLElement>(\".flash\");\n  if (x.length > 0) {\n    for (const f of x) {\n      fade(f);\n    }\n  }\n  return flashCreate;\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport {els} from \"./dom\";\n\nexport function linkInit() {\n  for (const el of els(\".link-confirm\")) {\n    el.onclick = () => {\n      let msg = el.dataset.message as string;\n      if (msg && msg.length === 0) {\n        msg = \"Are you sure?\";\n      }\n      return confirm(msg);\n    };\n  }\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport {els} from \"./dom\";\n\nexport function utc(date: Date) {\n  const u = Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\n  return new Date(u).toISOString().substring(0, 19).replace(\"T\", \" \");\n}\n\nexport function relativeTime(time: string, el?: HTMLElement): string {\n  const str = (time || \"\").replace(/-/gu, \"/\").replace(/[TZ]/gu, \" \") + \" UTC\";\n  const date = new Date(str);\n  const diff = (new Date().getTime() - date.getTime()) / 1000;\n  const dayDiff = Math.floor(diff / 86400);\n  const year = date.getFullYear();\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n\n  if (isNaN(dayDiff) || dayDiff < 0 || dayDiff >= 31) {\n    return year.toString() + \"-\" + (month < 10 ? \"0\" + month.toString() : month.toString()) + \"-\" + (day < 10 ? \"0\" + day.toString() : day.toString());\n  }\n\n  let ret: string;\n  let timeoutSeconds: number;\n  if (dayDiff === 0) {\n    if (diff < 5) {\n      timeoutSeconds = 1;\n      ret = \"just now\";\n    } else if (diff < 60) {\n      timeoutSeconds = 1;\n      ret = Math.floor(diff) + \" seconds ago\";\n    } else if (diff < 120) {\n      timeoutSeconds = 10;\n      ret = \"1 minute ago\";\n    } else if (diff < 3600) {\n      timeoutSeconds = 30;\n      ret = Math.floor(diff / 60) + \" minutes ago\";\n    } else if (diff < 7200) {\n      timeoutSeconds = 60;\n      ret = \"1 hour ago\";\n    } else {\n      timeoutSeconds = 60;\n      ret = Math.floor(diff / 3600) + \" hours ago\";\n    }\n  } else if (dayDiff === 1) {\n    timeoutSeconds = 600;\n    ret = \"yesterday\";\n  } else if (dayDiff < 7) {\n    timeoutSeconds = 600;\n    ret = dayDiff + \" days ago\";\n  } else {\n    timeoutSeconds = 6000;\n    ret = Math.ceil(dayDiff / 7) + \" weeks ago\";\n  }\n  if (el) {\n    el.innerText = ret;\n    setTimeout(() => relativeTime(time, el), timeoutSeconds * 1000);\n  }\n  return ret;\n}\n\nexport function timeInit() {\n  els(\".reltime\").forEach((el) => {\n    relativeTime(el.dataset.time || \"\", el);\n  });\n  return relativeTime;\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nfunction debounce(callback: (...args: unknown[]) => void, wait: number) {\n  let timeoutId = 0;\n  return (...args: unknown[]) => {\n    if (timeoutId !== 0) {\n      window.clearTimeout(timeoutId);\n    }\n    timeoutId = window.setTimeout(() => {\n      callback(null, ...args);\n    }, wait);\n  };\n}\n\nfunction autocomplete(el: HTMLInputElement, url: string, field: string, title: (x: unknown) => string, val: (x: unknown) => string) {\n  if (!el) {\n    return;\n  }\n  const listId = el.id + \"-list\";\n  const list = document.createElement(\"datalist\");\n\n  const loadingOpt = document.createElement(\"option\");\n  loadingOpt.value = \"\";\n  loadingOpt.innerText = \"Loading...\";\n  list.appendChild(loadingOpt);\n\n  list.id = listId;\n  el.parentElement?.prepend(list);\n\n  el.setAttribute(\"autocomplete\", \"off\");\n  el.setAttribute(\"list\", listId);\n\n  const cache: {\n    [_: string]: {\n      url: string;\n      complete: boolean;\n      data: unknown[];\n      frag: DocumentFragment;\n    }\n  } = {};\n  let lastQuery = \"\";\n\n  function getURL(q: string): string {\n    const dest = url;\n    if (dest.includes(\"?\")) {\n      return dest + \"&t=json&\" + field + \"=\" + encodeURIComponent(q);\n    }\n    return dest + \"?t=json&\" + field + \"=\" + encodeURIComponent(q);\n  }\n\n  function datalistUpdate(q: string) {\n    const c = cache[q];\n    if (!c || !c.frag) {\n      return;\n    }\n    lastQuery = q;\n    list.replaceChildren(c.frag.cloneNode(true));\n  }\n\n  function f() {\n    const q = el.value;\n    if (q.length === 0) {\n      return;\n    }\n    const dest = getURL(q);\n    let proceed: boolean = !q || !lastQuery;\n    if (!proceed) {\n      const l = cache[lastQuery];\n      if (l) {\n        proceed = !l.data.find((d) => q === val(d));\n      }\n    }\n    if (!proceed) {\n      return;\n    }\n    if (cache[q] && cache[q].url === dest) {\n      datalistUpdate(q);\n      return;\n    }\n\n    fetch(dest, {credentials: \"include\"}).then((res) => res.json()).then((data) => {\n      if (!data) {\n        return;\n      }\n      const arr = Array.isArray(data) ? data : [data];\n      const frag = document.createDocumentFragment();\n      let optMax = 10;\n      for (let d = 0; d < arr.length && optMax > 0; d++) {\n        const v = val(arr[d]);\n        const t = title(arr[d]);\n        if (v) {\n          const option = document.createElement(\"option\");\n          option.value = v;\n          option.innerText = t;\n          frag.appendChild(option);\n          optMax--;\n        }\n      }\n      cache[q] = {url: dest, data: arr, frag: frag, complete: false};\n      datalistUpdate(q);\n    });\n  }\n\n  el.oninput = debounce(f, 250);\n  console.log(\"managing [\" + el.id + \"] autocomplete\");\n}\n\nexport function autocompleteInit() {\n  return autocomplete;\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nexport function modalInit() {\n  document.addEventListener(\"keydown\", (event) => {\n    if (event.key === \"Escape\") {\n      if (document.location.hash.startsWith(\"#modal-\")) {\n        document.location.hash = \"\";\n      }\n    }\n  });\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nexport const appKey = \"rituals\";\nexport const appName = \"rituals.dev\";\n\nexport function svgRef(key: string, size?: number, cls?: string): string {\n  if (!size) {\n    size = 18;\n  }\n  if (cls === undefined || cls === null) {\n    cls = \"icon\";\n  }\n  return `<svg class=\"${cls}\" style=\"width: ${size}px; height: ${size + \"px\"};\"><use xlink:href=\"#svg-${key}\"></use></svg>`;\n}\n\nexport function svg(key: string, size?: number, cls?: string) {\n  return {\"__html\": svgRef(key, size, cls)};\n}\n\nexport function expandCollapse(extra?: string) {\n  if (!extra) {\n    extra = \"\";\n  }\n  const e = svgRef(\"right\", 15, \"expand\");\n  const c = svgRef(\"down\", 15, \"collapse\");\n  return {\"__html\": e + c + extra};\n}\n\nexport function focusDelay(el: HTMLInputElement | HTMLTextAreaElement) {\n  setTimeout(() => {\n    el.setSelectionRange(el.value.length, el.value.length);\n    el.focus();\n  }, 100);\n  return true;\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport {els, opt, req, setDisplay} from \"./dom\";\nimport {svgRef} from \"./util\";\n\nfunction compareOrder(elem1: HTMLElement, elem2: HTMLElement) {\n  if (elem1.parentElement !== elem2.parentElement) {\n    return null;\n  }\n  if (elem1 === elem2) {\n    return 0;\n  }\n  if (elem1.compareDocumentPosition(elem2) & Node.DOCUMENT_POSITION_FOLLOWING) {\n    return -1;\n  }\n  return 1;\n}\n\nlet draggedElement: HTMLElement;\n\nfunction tagsUpdate(editorEl: HTMLElement) {\n  const values: string[] = [];\n  const elements = els(\".item .value\", editorEl);\n  for (const el of elements) {\n    values.push(el.innerText);\n  }\n  const inputEl = req<HTMLInputElement>(\"input.result\", editorEl);\n  inputEl.value = values.join(\", \");\n}\n\nfunction tagsRemove(itemEl: HTMLElement) {\n  const editorEl = itemEl.parentElement?.parentElement;\n  itemEl.remove();\n  if (editorEl) {\n    tagsUpdate(editorEl);\n  }\n}\n\nfunction tagsEdit(itemEl: HTMLElement) {\n  const value = req(\".value\", itemEl);\n  const edit = req<HTMLInputElement>(\".editor\", itemEl);\n  edit.value = value.innerText;\n  const apply = () => {\n    if (edit.value === \"\") {\n      itemEl.remove();\n      return;\n    }\n    value.innerText = edit.value;\n    setDisplay(value, true);\n    setDisplay(edit, false);\n    const editorEl = itemEl.parentElement?.parentElement;\n    if (editorEl) {\n      tagsUpdate(editorEl);\n    }\n  };\n  edit.onblur = apply;\n  edit.onkeydown = (event) => {\n    if (event.code === \"Enter\") {\n      event.preventDefault();\n      apply();\n      return false;\n    }\n  };\n  setDisplay(value, false);\n  setDisplay(edit, true);\n  edit.focus();\n}\n\nfunction tagsRender(v: string, editorEl: HTMLElement): HTMLDivElement {\n  const item = document.createElement(\"div\");\n  item.className = \"item\";\n  item.draggable = true;\n  item.ondragstart = (e) => {\n    e.dataTransfer?.setDragImage(document.createElement(\"div\"), 0, 0);\n    item.classList.add(\"dragging\");\n    draggedElement = item;\n  };\n  item.ondragover = () => {\n    const order = compareOrder(item, draggedElement);\n    if (!order) {\n      return;\n    }\n    const baseElement = order === -1 ? item : item.nextSibling;\n    draggedElement.parentElement?.insertBefore(draggedElement, baseElement);\n    tagsUpdate(editorEl);\n  };\n  item.ondrop = (e) => {\n    e.preventDefault();\n  };\n  item.ondragend = (e) => {\n    item.classList.remove(\"dragging\");\n    e.preventDefault();\n  };\n\n  const value = document.createElement(\"div\");\n  value.innerText = v;\n  value.className = \"value\";\n  value.onclick = () => {\n    tagsEdit(item);\n  };\n  item.appendChild(value);\n\n  const editor = document.createElement(\"input\");\n  editor.className = \"editor\";\n  item.appendChild(editor);\n\n  const close = document.createElement(\"div\");\n  close.innerHTML = svgRef(\"times\", 13);\n  close.className = \"close\";\n  close.onclick = () => {\n    tagsRemove(item);\n  };\n  item.appendChild(close);\n\n  return item;\n}\n\nfunction tagsAdd(tagContainerEl: HTMLElement, editorEl: HTMLElement) {\n  const itemEl = tagsRender(\"\", editorEl);\n  tagContainerEl.appendChild(itemEl);\n  tagsEdit(itemEl);\n}\n\nexport function tagsWire(el: HTMLElement) {\n  const input = req<HTMLInputElement>(\"input.result\", el);\n  const tagContainer = req<HTMLDivElement>(\".tags\", el);\n  const vals = input.value.split(\",\").map((x) => x.trim()).filter((k) => k !== \"\");\n\n  setDisplay(input, false);\n  tagContainer.innerHTML = \"\";\n  for (const v of vals) {\n    tagContainer.appendChild(tagsRender(v, el));\n  }\n\n  opt(\".add-item\", el)?.remove();\n\n  const add = document.createElement(\"div\");\n  add.className = \"add-item\";\n  add.innerHTML = svgRef(\"plus\", 22);\n  add.onclick = () => {\n    tagsAdd(tagContainer, el);\n  };\n  el.insertBefore(add, req(\".clear\", el));\n}\n\nexport function tagsInit() {\n  for (const el of els(\".tag-editor\")) {\n    tagsWire(el);\n  }\n  return tagsWire;\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport {els} from \"./dom\";\n\nconst selected = \"--selected\";\n\nexport function setSiblingToNull(el: HTMLElement) {\n  const i = el.parentElement?.parentElement?.querySelector(\"input\");\n  if (!i) {\n    throw new Error(\"no associated input found\");\n  }\n  i.value = \"\u2205\";\n}\n\nexport function initForm(frm: HTMLFormElement) {\n  frm.onreset = () => initForm(frm);\n  const editorCache: { [key: string]: string; } = {};\n  const selectedCache: { [key: string]: HTMLInputElement; } = {};\n  for (const el of frm.elements) {\n    const input = el as HTMLInputElement;\n    if (input.name.length > 0) {\n      if (input.name.endsWith(selected)) {\n        selectedCache[input.name] = input;\n      } else {\n        if (input.type !== \"radio\" || input.checked) {\n          editorCache[input.name] = input.value;\n        }\n        const evt = () => {\n          const cv = selectedCache[input.name + selected];\n          if (cv) {\n            cv.checked = editorCache[input.name] !== input.value;\n          }\n        };\n        input.onchange = evt;\n        input.onkeyup = evt;\n      }\n    }\n  }\n}\n\nexport function editorInit(): [(el: HTMLElement) => void, (frm: HTMLFormElement) => void] {\n  for (const n of els<HTMLFormElement>(\"form.editor\")) {\n    initForm(n);\n  }\n  return [setSiblingToNull, initForm];\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport {els} from \"./dom\";\n\nconst keys: string[] = [];\n\nfunction call(mockup: Element, sel: string, f: (el: HTMLElement) => void) {\n  const q = mockup.querySelectorAll(sel);\n  if (q.length === 0) {\n    throw new Error(\"empty query selector [\" + sel + \"]\");\n  }\n  q.forEach((x) => f(x as HTMLElement));\n}\n\nfunction setBG(mockup: Element, sel: string, v: string) {\n  call(mockup, sel, (el) => {\n    el.style.backgroundColor = v;\n  });\n}\n\nfunction setFG(mockup: Element, sel: string, v: string) {\n  call(mockup, sel, (el) => {\n    el.style.color = v;\n  });\n}\n\nfunction set(mode: string, key: string, v: string) {\n  const mockup = document.querySelector(\"#mockup-\" + mode);\n  if (!mockup) {\n    console.error(\"can't find mockup for mode [\" + mode + \"]\");\n    return;\n  }\n  switch (key) {\n    case \"color-foreground\":\n      setFG(mockup, \".mock-main\", v);\n      break;\n    case \"color-background\":\n      setBG(mockup, \".mock-main\", v);\n      break;\n    case \"color-foreground-muted\":\n      setFG(mockup, \".mock-main .mock-muted\", v);\n      break;\n    case \"color-background-muted\":\n      setBG(mockup, \".mock-main .mock-muted\", v);\n      break;\n    case \"color-link-foreground\":\n      setFG(mockup, \".mock-main .mock-link\", v);\n      break;\n    case \"color-link-visited-foreground\":\n      setFG(mockup, \".mock-main .mock-link-visited\", v);\n      break;\n    case \"color-nav-foreground\":\n      setFG(mockup, \".mock-nav\", v);\n      setFG(mockup, \".mock-nav .mock-link\", v);\n      break;\n    case \"color-nav-background\":\n      setBG(mockup, \".mock-nav\", v);\n      break;\n    case \"color-menu-foreground\":\n      setFG(mockup, \".mock-menu\", v);\n      setFG(mockup, \".mock-menu .mock-link\", v);\n      break;\n    case \"color-menu-background\":\n      setBG(mockup, \".mock-menu\", v);\n      break;\n    case \"color-menu-selected-foreground\":\n      setFG(mockup, \".mock-menu .mock-link-selected\", v);\n      break;\n    case \"color-menu-selected-background\":\n      setBG(mockup, \".mock-menu .mock-link-selected\", v);\n      break;\n    default:\n      console.error(\"invalid key [\" + key + \"]\");\n  }\n}\n\nexport function themeInit() {\n  for (const el of els<HTMLInputElement>(\".color-var\")) {\n    const v = el.dataset.var as string;\n    const m = el.dataset.mode as string;\n    keys.push(v);\n    if (!v || v.length === 0) {\n      continue;\n    }\n    el.oninput = () => {\n      set(m, v, el.value);\n    };\n  }\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nlet appUnloading = false;\n\nexport type Message = {\n  readonly channel: string;\n  readonly cmd: string;\n  readonly param: unknown;\n}\n\nfunction socketUrl(u?: string) {\n  if (!u) {\n    u = \"/connect\";\n  }\n  if (u.indexOf(\"ws\") === 0) {\n    return u;\n  }\n  const l = document.location;\n  let protocol = \"ws\";\n  if (l.protocol === \"https:\") {\n    protocol = \"wss\";\n  }\n  if (u.indexOf(\"/\") !== 0) {\n    u = \"/\" + u;\n  }\n  return protocol + `://${l.host}${u}`;\n}\n\nexport class Socket {\n  readonly debug: boolean;\n  private readonly open: () => void;\n  private readonly recv: (m: Message) => void;\n  private readonly err: (svc: string, err: string) => void;\n  readonly url?: string;\n  connected: boolean;\n  pauseSeconds: number;\n  pendingMessages: Message[];\n  connectTime?: number;\n  sock?: WebSocket;\n\n  constructor(debug: boolean, o: () => void, r: (m: Message) => void, e: (svc: string, err: string) => void, url?: string) {\n    this.debug = debug;\n    this.open = o;\n    this.recv = r;\n    this.err = e;\n    this.url = socketUrl(url);\n    this.connected = false;\n    this.pauseSeconds = 1;\n    this.pendingMessages = [];\n\n    this.connect();\n  }\n\n  connect() {\n    window.onbeforeunload = () => {\n      appUnloading = true;\n    };\n    this.connectTime = Date.now();\n    this.sock = new WebSocket(socketUrl(this.url));\n    const s = this; // eslint-disable-line @typescript-eslint/no-this-alias\n    this.sock.onopen = () => {\n      s.connected = true;\n      s.pendingMessages.forEach(s.send);\n      s.pendingMessages = [];\n      if (s.debug) {\n        console.log(\"WebSocket connected\");\n      }\n      s.open();\n    };\n    this.sock.onmessage = (event) => {\n      const msg = JSON.parse(event.data) as Message;\n      if (s.debug) {\n        console.debug(\"[socket]: receive\", msg);\n      }\n      s.recv(msg);\n    };\n    this.sock.onerror = (event) => () => {\n      s.err(\"socket\", event.type);\n    };\n    this.sock.onclose = () => {\n      if (appUnloading) {\n        return;\n      }\n      s.connected = false;\n      const elapsed = s.connectTime ? Date.now() - s.connectTime : 0;\n      if (elapsed > 0 && elapsed < 2000) {\n        s.pauseSeconds = s.pauseSeconds * 2;\n        if (s.debug) {\n          console.debug(`socket closed immediately, reconnecting in ${s.pauseSeconds} seconds`);\n        }\n        setTimeout(() => {\n          s.connect();\n        }, s.pauseSeconds * 1000);\n      } else {\n        console.debug(\"socket closed after [\" + elapsed + \"ms]\");\n        setTimeout(() => {\n          s.connect();\n        }, s.pauseSeconds * 500);\n      }\n    };\n  }\n\n  disconnect() {\n    // noop\n  }\n\n  send(msg: Message) {\n    if (this.debug) {\n      console.debug(\"out\", msg);\n    }\n    if (!this.sock) {\n      throw new Error(\"socket not initialized\");\n    }\n    if (this.connected) {\n      const m = JSON.stringify(msg, null, 2);\n      this.sock.send(m);\n    } else {\n      this.pendingMessages.push(msg);\n    }\n  }\n}\n\nexport function socketInit() {\n  return Socket;\n}\n", "import {JSX} from \"./jsx\"; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport {svg, svgRef} from \"./util\";\n\nexport function memberPictureFor(picture: string, size: number, cls: string) {\n  if (!picture) {\n    return svgRef(\"profile\", size, cls);\n  }\n  return `<img class=\"${cls}\" style=\"width: ${size + \"px\"}; height: ${size + \"px\"};\" src=\"${picture}\" />`;\n}\n\nexport function snippetMember(userID: string, name: string, role: string, picture: string): HTMLElement {\n  return <tr id={\"member-\" + userID} class=\"member\" data-id={userID}>\n    <td>\n      <a href={\"#modal-member-\" + userID}>\n        <div class=\"left prs member-picture\" dangerouslySetInnerHTML={{\"__html\": memberPictureFor(picture, 18, \"\")}}></div>\n        <span class=\"member-name\">{name}</span>\n      </a>\n    </td>\n    <td class=\"shrink text-align-right\"><em class=\"member-status\">{role}</em></td>\n    <td class=\"shrink online-status\" title=\"offline\" dangerouslySetInnerHTML={svg(\"circle\", 18, \"right\")}></td>\n  </tr>;\n}\n\nexport function snippetMemberModalView(userID: string, name: string, role: string, picture: string): HTMLElement {\n  return <div id={\"modal-member-\" + userID} data-id={userID} class=\"modal modal-member\" style=\"display: none;\">\n    <a class=\"backdrop\" href=\"#\"></a>\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <a href=\"#\" class=\"modal-close\">\u00D7</a>\n        <h2>\n          <span class=\"member-picture\" dangerouslySetInnerHTML={{\"__html\": memberPictureFor(picture, 18, \"\")}}></span>\n          <span class=\"member-name\">{name}</span>\n        </h2>\n      </div>\n      <div class=\"modal-body\">\n        <em>Role</em><br/>\n        <span class=\"member-role\">{role}</span>\n      </div>\n    </div>\n  </div>;\n}\n\nexport function snippetMemberModalEdit(userID: string, name: string, role: string, picture: string): HTMLElement {\n  const cfrm = \"return confirm('Are you sure you wish to remove this user?');\";\n  const roles = [[\"owner\", \"Owner\"], [\"member\", \"Member\"], [\"observer\", \"Observer\"]];\n  return <div id={\"modal-member-\" + userID} data-id={userID} class=\"modal modal-member\" style=\"display: none;\">\n    <a class=\"backdrop\" href=\"#\"></a>\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <a href=\"#\" class=\"modal-close\">\u00D7</a>\n        <h2>\n          <span className=\"member-picture\" dangerouslySetInnerHTML={{\"__html\": memberPictureFor(picture, 18, \"\")}}></span>\n          <span className=\"member-name\">{name}</span>\n        </h2>\n      </div>\n      <div class=\"modal-body\">\n        <form action={document.location.pathname} method=\"post\" class=\"expanded\">\n          <input type=\"hidden\" name=\"userID\" value={userID}/>\n          <em>Role</em><br/>\n          <select class=\"input-role\" name=\"role\">\n            {roles.map((x) => {\n              if (x[0] === role) {\n                return <option selected=\"selected\" value={x[0]}>{x[1]}</option>;\n              }\n              return <option value={x[0]}>{x[1]}</option>;\n            })}\n          </select>\n          <hr/>\n          <div class=\"right\">\n            <button class=\"member-update\" type=\"submit\" name=\"action\" value=\"member-update\">Save</button>\n          </div>\n          <button type=\"submit\" class=\"member-remove\" name=\"action\" value=\"member-remove\" onClick={cfrm}>Remove\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>;\n}\n", "import {els, opt, req} from \"./dom\";\nimport {send} from \"./app\";\nimport {memberPictureFor, snippetMember, snippetMemberModalEdit, snippetMemberModalView} from \"./members.jsx\";\nimport {svgRef} from \"./util\";\n\nlet selfID: string;\nlet names: { [key: string]: string; };\n\nexport function username(id?: string) {\n  if (!id) {\n    return \"System\";\n  }\n  const ret = names[id];\n  if (ret) {\n    return ret;\n  }\n  return \"Unknown User\";\n}\n\nexport function getSelfID() {\n  return selfID;\n}\n\nfunction isAdmin() {\n  return req(\"#self-role\").innerText === \"owner\" || req(\"#owner-id\").innerText === selfID;\n}\n\nfunction wireSelfForm() {\n  const selfModal = req(\"#modal-self\");\n  const selfForm = opt<HTMLFormElement>(\"form\", selfModal);\n  if (selfForm) {\n    selfForm.onsubmit = () => {\n      const nameInput = req<HTMLInputElement>(\"input[name=\\\"name\\\"]\", selfForm);\n      const choiceInput = req<HTMLInputElement>(\"input[name=\\\"choice\\\"]:checked\", selfForm);\n      const pictureInput = opt<HTMLInputElement>(\"input[name=\\\"picture\\\"]:checked\", selfForm);\n\n      const msg: { name: string, choice: string, picture?: string } = {\"name\": nameInput.value, \"choice\": choiceInput.value};\n      if (pictureInput) {\n        msg.picture = pictureInput.value;\n      }\n      send(\"self\", msg);\n\n      req(\"#self-name\").innerText = nameInput.value;\n      req(\"#self-picture\").innerHTML = memberPictureFor(pictureInput ? pictureInput.value : \"\", 20, \"icon\");\n      document.location.hash = \"\";\n      return false;\n    };\n  }\n}\n\nexport function refreshMembers() {\n  names = {};\n  selfID = req(\"#self-id\").innerText;\n  names[selfID] = req(\"#self-name\").innerText;\n\n  const panel = req(\"#panel-members\");\n  const members = els(\".member\", panel);\n  for (const m of members) {\n    const id = m.dataset.id;\n    if (id) {\n      names[id] = req(\".member-name\", m).innerText;\n    }\n  }\n}\n\nfunction wireMemberForm(modal: HTMLElement) {\n  const form = opt<HTMLFormElement>(\"form\", modal);\n  if (!form) {\n    return;\n  }\n  const f = (cmd: string) => {\n    const userID = req<HTMLInputElement>(\"input[name=\\\"userID\\\"]\", form).value;\n    const role = req<HTMLSelectElement>(\"select[name=\\\"role\\\"]\", form).value;\n    send(cmd, {\"userID\": userID, \"role\": role});\n    const panel = req(\"#member-\" + userID);\n    if (cmd === \"member-update\") {\n      req(\".member-role\", panel).innerText = role;\n    } else if (cmd === \"member-remove\") {\n      panel.remove();\n      refreshMembers();\n    }\n    document.location.hash = \"\";\n    return false;\n  };\n  req<HTMLButtonElement>(\".member-update\", form).onclick = () => f(\"member-update\");\n  req<HTMLButtonElement>(\".member-remove\", form).onclick = () => {\n    if (confirm(\"Are you sure you wish to remove this user?\")) {\n      return f(\"member-remove\");\n    }\n    return false;\n  };\n}\n\nfunction wireMemberForms() {\n  const modals = els(\".modal-member\");\n  for (const modal of modals) {\n    wireMemberForm(modal);\n  }\n}\n\nexport type MemberMessage = {\n  userID: string;\n  name: string;\n  role: string;\n  picture?: string;\n}\n\nexport function memberUpdate(param: MemberMessage) {\n  if (param.userID === selfID) {\n    req(\"#self-name\").innerText = param.name;\n    req(\"#self-role\").innerText = param.role;\n    req(\"#self-picture\").innerHTML = memberPictureFor(param.picture ? param.picture : \"\", 20, \"icon\");\n  } else {\n    const panel = req(\"#member-\" + param.userID);\n    req(\".member-name\", panel).innerText = param.name;\n    req(\".member-role\", panel).innerText = param.role;\n    req(\".member-picture\", panel).innerHTML = memberPictureFor(param.picture ? param.picture : \"\", 18, \"\");\n\n    const modal = req(\"#modal-member-\" + param.userID);\n    req(\".member-name\", modal).innerText = param.name;\n    const rd = opt(\".member-role\", modal);\n    if (rd) {\n      rd.innerText = param.role;\n    }\n    const rs = opt<HTMLSelectElement>(\"select[name=\\\"role\\\"]\", modal);\n    if (rs) {\n      rs.value = param.role;\n    }\n    req(\".member-picture\", modal).innerHTML = memberPictureFor(param.picture ? param.picture : \"\", 18, \"\");\n  }\n  if (names[param.userID] !== param.name) {\n    names[param.userID] = param.name;\n\n    const tbl = req(\"#panel-members table tbody\");\n    const items = tbl.children;\n    const itemsArr: Element[] = [...items];\n    itemsArr.sort((l, r) => {\n      const ln = req(\".member-name\", l).innerText;\n      const rn = req(\".member-name\", r).innerText;\n      return ln.localeCompare(rn, undefined, {sensitivity: \"accent\"});\n    });\n    tbl.replaceChildren(...itemsArr);\n  }\n}\n\nexport function memberAdd(param: MemberMessage) {\n  const panel = opt(\"#member-\" + param.userID);\n  if (panel || param.userID === selfID) {\n    return memberUpdate(param);\n  }\n\n  const tbl = req(\"#panel-members table tbody\");\n  let idx = -1;\n  for (let i = 0; i < tbl.children.length; i++) {\n    const n = tbl.children.item(i);\n    const nm = req(\".member-name\", n as HTMLElement).innerText;\n    if (nm.localeCompare(param.name, undefined, {sensitivity: \"accent\"}) > 0) {\n      idx = i;\n      break;\n    }\n  }\n  const tr = snippetMember(param.userID, param.name, param.role, param.picture ? param.picture : \"\");\n  if (idx === -1) {\n    tbl.appendChild(tr);\n  } else {\n    tbl.insertBefore(tr, tbl.children[idx]);\n  }\n\n  const modals = req(\"#member-modals\");\n  let modal: HTMLElement;\n  if (isAdmin()) {\n    modal = snippetMemberModalEdit(param.userID, param.name, param.role, param.picture ? param.picture : \"\");\n  } else {\n    modal = snippetMemberModalView(param.userID, param.name, param.role, param.picture ? param.picture : \"\");\n  }\n  modals.appendChild(modal);\n  req(\".member-picture\", modal).innerHTML = memberPictureFor(param.picture ? param.picture : \"\", 24, \"icon\");\n  wireMemberForm(modal);\n  names[param.userID] = param.name;\n}\n\nexport function memberRemove(userID: string) {\n  const panel = req(\"#member-\" + userID);\n  panel.remove();\n  refreshMembers();\n}\n\nexport function onlineUpdate(param: { userID: string; connected: boolean; }) {\n  if (param.userID === selfID) {\n    return;\n  }\n  const mel = opt(\"#member-\" + param.userID + \" .online-status\");\n  if (!mel) {\n    throw new Error(\"missing panel #member-\" + param.userID);\n  }\n  mel.title = param.connected ? \"online\" : \"offline\";\n  const svg = param.connected ? \"check-circle\" : \"circle\";\n  mel.innerHTML = svgRef(svg, 18, \"right\");\n}\n\nexport function initMembers() {\n  wireSelfForm();\n  wireMemberForms();\n  refreshMembers();\n}\n", "import {JSX} from \"./jsx\"; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport {Comment, initCommentsLink} from \"./comment\";\nimport {relativeTime, utc} from \"./time\";\nimport {svg} from \"./util\";\n\nexport function snippetComment(c: Comment, un: string) {\n  const li = <li></li>;\n\n  const d = utc(new Date());\n  const timeSpan = <span class=\"nowrap reltime\" data-time={d}>just now</span>;\n  relativeTime(d, timeSpan);\n\n  const time = <div class=\"right\"></div>;\n  time.appendChild(timeSpan);\n  li.appendChild(time);\n\n  li.appendChild(<div>{c.content}</div>);\n  li.appendChild(<div><em>{un}</em></div>);\n  return li;\n}\n\nexport function snippetCommentsModalLink(svc: string, id: string) {\n  const x = \"comment-link-\" + svc + \"-\" + id;\n  const href = \"#modal-\" + svc + \"-\" + id + \"-comments\";\n  const a = <a id={x} class=\"comment-link\" data-key={svc + \"-\" + id} href={href} title=\"0 comments\" dangerouslySetInnerHTML={svg(\"comment-alt\", 18, \"member-icon\")}></a>;\n  initCommentsLink(a);\n  return a;\n}\n\nexport function snippetCommentsModal(svc: string, id: string, title: string) {\n  return <div id={\"modal-\" + svc + \"-\" + id + \"-comments\"} class=\"modal comments\" style=\"display: none;\">\n    <a class=\"backdrop\" href=\"#\"></a>\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <a href=\"#\" class=\"modal-close\">\u00D7</a>\n        <h2>{title} Comments</h2>\n      </div>\n      <div class=\"modal-body\">\n        <ul id={\"comment-list-\" + svc + \"-\" + id} class=\"comment-list\">\n        </ul>\n        <form action=\"#\" method=\"post\" class=\"expanded\">\n          <input type=\"hidden\" name=\"action\" value=\"comment\"/>\n          <input type=\"hidden\" name=\"svc\" value={svc}/>\n          <input type=\"hidden\" name=\"modelID\" value={id}/>\n          <div><textarea name=\"content\" placeholder=\"Add a comment, Markdown and HTML supported\"></textarea></div>\n          <div class=\"mt right\">\n            <button type=\"submit\">Add Comment</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>;\n}\n", "import {els, req} from \"./dom\";\nimport {send} from \"./app\";\nimport {getSelfID, username} from \"./member\";\nimport {snippetComment} from \"./comments\";\nimport {focusDelay, svgRef} from \"./util\";\n\nexport class Comment {\n  svc?: string;\n  modelID?: string;\n  content?: string;\n  userID?: string;\n}\n\nexport function initCommentsLink(link: HTMLElement) {\n  link.onclick = () => focusDelay(req(\"#modal-\" + link.dataset.key + \"-comments form textarea\"));\n}\n\nexport function commentAdd(c: Comment) {\n  const ul = req(\"#comment-list-\" + c.svc + \"-\" + c.modelID);\n  const un = username(c.userID);\n  const li = snippetComment(c, un);\n  ul.appendChild(li);\n\n  const count = ul.children.length;\n  const link = req(\"#comment-link-\" + c.svc + \"-\" + c.modelID);\n  link.title = count + (count === 1 ? \" comment\" : \" comments\");\n  if (link.innerHTML.indexOf(\"comment-dots\") === -1) {\n    link.innerHTML = svgRef(\"comment-dots\", 18, \"right\");\n  }\n}\n\nexport function initCommentsModal(modal: HTMLElement) {\n  const form = req<HTMLFormElement>(\"form\", modal);\n  form.onsubmit = () => {\n    const c: Comment = {\n      svc: req<HTMLInputElement>(\"input[name=\\\"svc\\\"]\", form).value,\n      modelID: req<HTMLInputElement>(\"input[name=\\\"modelID\\\"]\", form).value\n    };\n    const ta = req<HTMLTextAreaElement>(\"textarea\", form);\n    c.content = ta.value;\n    c.userID = getSelfID();\n    send(\"comment\", c);\n    commentAdd(c);\n    ta.value = \"\";\n    return false;\n  };\n}\n\nexport function initComments() {\n  for (const link of els(\".comment-link\")) {\n    initCommentsLink(link);\n  }\n  for (const modal of els(\".modal.comments\")) {\n    initCommentsModal(modal);\n  }\n}\n", "import {els, opt, req} from \"./dom\";\nimport {snippetCommentsModal, snippetCommentsModalLink} from \"./comments\";\nimport {initCommentsModal} from \"./comment\";\nimport {focusDelay, svgRef} from \"./util\";\n\nexport type ChildAdd = {\n  \"type\": string;\n  \"id\": string;\n  \"title\": string;\n  \"path\": string;\n  \"icon\": string;\n}\n\nexport type ChildUpdate = {\n  \"type\": string;\n  \"model\": { id: string; title: string; icon: string };\n}\n\nexport type ChildRemove = {\n  \"type\": string;\n  \"id\": string;\n}\n\nexport function getSelectName(key: string, panel: HTMLElement, id: string | null) {\n  if (id) {\n    const el = opt<HTMLSelectElement>(`select[name=\"${key}\"] option[value=\"${id}\"]`, panel);\n    if (el) {\n      const s = el.innerText;\n      return `<a href=\"/${key}/${id}\">${s}</a> `;\n    }\n    return `<a href=\"/${key}/${id}\">${id}</a> `;\n  }\n  return \"\";\n}\n\nexport function modelBanner(key: string, panel: HTMLElement, teamID: string, sprintID: string) {\n  let ret = \"\";\n  ret += getSelectName(\"sprint\", panel, sprintID);\n  ret += key === \"retro\" ? \"retrospective\" : key;\n  if (teamID) {\n    ret += \" in \" + getSelectName(\"team\", panel, teamID);\n  }\n  return ret;\n}\n\nexport function onChildAddModel(param: ChildAdd) {\n  const tbody = req(`#${param.type}-list tbody`);\n  const empty = opt(\".empty\", tbody);\n  if (empty) {\n    empty.remove();\n  }\n\n  const tr = document.createElement(\"tr\");\n  tr.id = `${param.type}-list-${param.id}`;\n  const td = document.createElement(\"td\");\n\n  const commentsDiv = document.createElement(\"div\");\n  commentsDiv.classList.add(\"right\");\n  commentsDiv.appendChild(snippetCommentsModalLink(param.type, param.id));\n  commentsDiv.appendChild(snippetCommentsModal(param.type, param.id, param.id));\n  td.appendChild(commentsDiv);\n\n  const a = document.createElement(\"a\");\n  a.href = param.path;\n\n  const iconSpan = document.createElement(\"span\");\n  iconSpan.classList.add(\"model-span-icon\");\n  iconSpan.innerHTML = svgRef(param.icon, 16, \"icon\");\n  a.appendChild(iconSpan);\n\n  const titleSpan = document.createElement(\"span\");\n  titleSpan.classList.add(\"model-span-title\");\n  titleSpan.innerText = param.title;\n  a.appendChild(titleSpan);\n\n  td.appendChild(a);\n  tr.appendChild(td);\n  tbody.appendChild(tr);\n  initCommentsModal(req(\".modal\", commentsDiv));\n}\n\nexport function onChildUpdateModel(param: ChildUpdate) {\n  const tr = req(`#${param.type}-list-${param.model.id}`);\n  req(\".model-span-icon\", tr).innerHTML = svgRef(param.model.icon);\n  req(\".model-span-title\", tr).innerText = param.model.title;\n}\n\nexport function onChildRemoveModel(param: ChildRemove) {\n  req(`#${param.type}-list-${param.id}`).remove();\n  const tbody = req(`#${param.type}-list tbody`);\n  if (tbody.children.length === 0) {\n    const empty = document.createElement(\"tr\");\n    empty.classList.add(\"empty\");\n    const em = document.createElement(\"em\");\n    em.innerText = \"no \" + param.type + \"s\";\n    empty.appendChild(em);\n    tbody.appendChild(empty);\n  }\n}\n\nexport function setTeamSprint(key: string, panel: HTMLElement, teamID: string | null, sprintID: string | null, title: string, icon: string) {\n  const tEl = opt<HTMLInputElement>(\"input[name=\\\"title\\\"]\", panel);\n  if (tEl) {\n    tEl.value = title;\n  }\n  for (const pt of els(\".config-panel-team\", panel)) {\n    pt.innerHTML = getSelectName(\"team\", panel, teamID);\n  }\n  for (const ps of els(\".config-panel-sprint\", panel)) {\n    ps.innerHTML = getSelectName(\"sprint\", panel, sprintID);\n  }\n  for (const vi of els(\".view-icon\", panel)) {\n    vi.innerHTML = svgRef(icon, 24, \"icon\");\n  }\n  for (const vt of els(\".view-title\", panel)) {\n    vt.innerText = title;\n  }\n  for (const r of els<HTMLInputElement>(\"input[name=\\\"icon\\\"]\", panel)) {\n    r.checked = icon === r.value;\n  }\n  const t = opt<HTMLSelectElement>(\"select[name=\\\"team\\\"]\", panel);\n  if (t !== null && t !== undefined) {\n    t.value = teamID ? teamID : \"\";\n  }\n  const s = opt<HTMLSelectElement>(\"select[name=\\\"sprint\\\"]\", panel);\n  if (s !== null && s !== undefined) {\n    s.value = sprintID ? sprintID : \"\";\n  }\n  req(\"#model-title\").innerText = title;\n  req(\"#model-icon\").innerHTML = svgRef(icon, 20);\n  req(\"#model-banner\").innerHTML = modelBanner(key, panel, teamID ? teamID : \"\", sprintID ? sprintID : \"\");\n  // flashCreate(key, \"success\", key + \" updated\");\n}\n\nexport function configFocus(k: string) {\n  req(`#modal-${k}-config-link`).onclick = () => {\n    const i = opt<HTMLInputElement>(`#modal-${k}-config form input[name=\"title\"]`);\n    if (i) {\n      focusDelay(i);\n    }\n  };\n}\n", "import {els, req} from \"./dom\";\n\nexport type Permission = {\n  key: string;\n  value: string;\n}\n\nexport function permissionsUpdate(perms: Permission[]) {\n  console.log(\"permissionsUpdate\", perms);\n}\n\nexport function permissionsTeamToggle(set: boolean) {\n  req(\".permission-config-team\").style.display = set ? \"block\" : \"none\";\n}\n\nexport function permissionsSprintToggle(set: boolean) {\n  req(\".permission-config-sprint\").style.display = set ? \"block\" : \"none\";\n}\n\nexport function loadPermsForm(frm: HTMLFormElement) {\n  type StrMap = { [key: string]: string };\n  const ret: StrMap = {};\n  for (const el of els<HTMLInputElement>(\".perm-option\", frm)) {\n    if (el.checked) {\n      ret[el.name] = el.value;\n    }\n  }\n  return ret;\n}\n\nexport function initPermissions(t: HTMLSelectElement, s: HTMLSelectElement) {\n  permissionsTeamToggle(t.value !== \"\");\n  permissionsSprintToggle(s.value !== \"\");\n}\n", "import type {Message} from \"./socket\";\nimport {opt, req} from \"./dom\";\nimport {send} from \"./app\";\nimport {ChildAdd, ChildRemove, ChildUpdate, configFocus, onChildAddModel, onChildRemoveModel, onChildUpdateModel, setTeamSprint} from \"./workspace\";\nimport {loadPermsForm, Permission, permissionsUpdate} from \"./permission\";\n\nexport type Team = {\n  id: string;\n  slug: string;\n  title: string;\n  icon: string;\n  status: string;\n  owner: string;\n}\n\nexport function initTeam() {\n  configFocus(\"team\");\n  const frm = opt<HTMLFormElement>(\"#modal-team-config form\");\n  if (frm) {\n    frm.onsubmit = () => {\n      const title = req<HTMLInputElement>(\"input[name=\\\"title\\\"]\", frm).value;\n      const icon = req<HTMLInputElement>(\"input[name=\\\"icon\\\"]:checked\", frm).value;\n      send(\"update\", {\"title\": title, \"icon\": icon, ...loadPermsForm(frm)});\n      document.location.hash = \"\";\n      return false;\n    };\n  }\n}\n\nfunction onUpdate(param: Team) {\n  req(\"#owner-id\").innerText = param.owner;\n  const frm = req<HTMLFormElement>(\"#modal-team-config\");\n  setTeamSprint(\"team\", frm, null, null, param.title, param.icon);\n}\n\nexport function handleTeam(m: Message) {\n  switch (m.cmd) {\n    case \"update\":\n      return onUpdate(m.param as Team);\n    case \"child-add\":\n      return onChildAddModel(m.param as ChildAdd);\n    case \"child-update\":\n      return onChildUpdateModel(m.param as ChildUpdate);\n    case \"child-remove\":\n      return onChildRemoveModel(m.param as ChildRemove);\n    case \"permissions\":\n      return permissionsUpdate(m.param as Permission[]);\n    default:\n      throw new Error(\"invalid team command [\" + m.cmd + \"]\");\n  }\n}\n", "import type {Message} from \"./socket\";\nimport {opt, req} from \"./dom\";\nimport {send} from \"./app\";\nimport {ChildAdd, ChildRemove, ChildUpdate, configFocus, onChildAddModel, onChildRemoveModel, onChildUpdateModel, setTeamSprint} from \"./workspace\";\nimport {loadPermsForm, Permission, permissionsTeamToggle, permissionsUpdate} from \"./permission\";\n\nexport type Sprint = {\n  id: string;\n  slug: string;\n  title: string;\n  startDate: string;\n  endDate: string;\n  icon: string;\n  status: string;\n  teamID: string;\n  owner: string;\n}\n\nexport function initSprint() {\n  configFocus(\"sprint\");\n  const frm = opt<HTMLFormElement>(\"#modal-sprint-config form\");\n  if (frm) {\n    const teamEl = req<HTMLSelectElement>(\"select[name=\\\"team\\\"]\", frm);\n    teamEl.onchange = () => {\n      permissionsTeamToggle(teamEl.value !== \"\");\n    };\n    permissionsTeamToggle(teamEl.value !== \"\");\n    frm.onsubmit = () => {\n      const title = req<HTMLInputElement>(\"input[name=\\\"title\\\"]\", frm).value;\n      const icon = req<HTMLInputElement>(\"input[name=\\\"icon\\\"]:checked\", frm).value;\n      const startDate = req<HTMLInputElement>(\"input[name=\\\"startDate\\\"]\", frm).value;\n      const endDate = req<HTMLInputElement>(\"input[name=\\\"endDate\\\"]\", frm).value;\n      send(\"update\", {\"title\": title, \"icon\": icon, \"startDate\": startDate, \"endDate\": endDate, \"team\": teamEl.value, ...loadPermsForm(frm)});\n      document.location.hash = \"\";\n      return false;\n    };\n  }\n}\n\nfunction ds(s: string) {\n  return `${s}`.split(\"T\")[0];\n}\n\nfunction summary(param: Sprint) {\n  let ret = \"\";\n  if (param.startDate) {\n    ret += \"starts \";\n    ret += ds(param.startDate);\n    if (param.endDate) {\n      ret += \", \";\n    }\n  }\n  if (param.endDate) {\n    ret += \"ends \";\n    ret += ds(param.endDate);\n  }\n  return ret;\n}\n\nfunction onUpdate(param: Sprint) {\n  req(\"#owner-id\").innerText = param.owner;\n  const panel = req<HTMLElement>(\"#modal-sprint-config\");\n  const frm = opt<HTMLFormElement>(\"form\", panel);\n  if (frm) {\n    req<HTMLInputElement>(\"input[name=\\\"startDate\\\"]\", frm).value = ds(param.startDate);\n    req<HTMLInputElement>(\"input[name=\\\"endDate\\\"]\", frm).value = ds(param.endDate);\n  } else {\n    req(\".config-panel-startDate\", panel).innerText = ds(param.startDate);\n    req(\".config-panel-endDate\", panel).innerText = ds(param.endDate);\n  }\n  req(\"#model-summary\").innerText = summary(param);\n  setTeamSprint(\"sprint\", panel, param.teamID, null, param.title, param.icon);\n}\n\nexport function handleSprint(m: Message) {\n  switch (m.cmd) {\n    case \"update\":\n      return onUpdate(m.param as Sprint);\n    case \"child-add\":\n      return onChildAddModel(m.param as ChildAdd);\n    case \"child-update\":\n      return onChildUpdateModel(m.param as ChildUpdate);\n    case \"child-remove\":\n      return onChildRemoveModel(m.param as ChildRemove);\n    case \"permissions\":\n      return permissionsUpdate(m.param as Permission[]);\n    default:\n      throw new Error(\"invalid sprint command [\" + m.cmd + \"]\");\n  }\n}\n", "import {JSX} from \"./jsx\"; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport type {Story} from \"./story\";\nimport {snippetCommentsModal, snippetCommentsModalLink} from \"./comments\";\n\nexport function snippetStory(s: Story): HTMLElement {\n  return <tr class=\"story-row\" id=\"story-row-{%s s.ID.String() %}\" data-idx=\"s.Idx\">\n    <td><a href={\"#modal-story-\" + s.id } class=\"story-title\"><div>{ s.title }</div></a></td>\n    <td>{ s.status }</td>\n    <td>{ s.finalVote ? s.finalVote : \"-\" }</td>\n    <td>\n      { snippetCommentsModalLink(\"story\", s.id)}\n      { snippetCommentsModal(\"story\", s.id, s.title)}\n    </td>\n  </tr>;\n}\n", "import {els, req} from \"./dom\";\nimport {send} from \"./app\";\nimport {focusDelay} from \"./util\";\n\nfunction wireStoryModalFormEdit(id: string, a: HTMLAnchorElement) {\n  a.onclick = () => {\n    focusDelay(req(\"#modal-story-\" + id + \"-edit form input[name=\\\"title\\\"]\"));\n  };\n}\n\nfunction wireStoryModalFormToNew(id: string, frm: HTMLFormElement) {\n  frm.onsubmit = () => {\n    send(\"child-status\", {\"storyID\": id, \"status\": \"new\"});\n    console.log(\"new\");\n    return false;\n  };\n}\n\nfunction wireStoryModalFormToActive(id: string, frm: HTMLFormElement) {\n  frm.onsubmit = () => {\n    send(\"child-status\", {\"storyID\": id, \"status\": \"active\"});\n    console.log(\"active\");\n    return false;\n  };\n}\n\nfunction wireStoryModalFormToComplete(id: string, frm: HTMLFormElement) {\n  frm.onsubmit = () => {\n    send(\"child-status\", {\"storyID\": id, \"status\": \"complete\"});\n    console.log(\"complete\");\n    return false;\n  };\n}\n\nfunction wireStoryModalFormVote(id: string, e: HTMLElement) {\n  els(\".vote-option\", e).forEach((opt) => {\n    opt.onclick = () => {\n      req<HTMLInputElement>(\"input[name=\\\"vote\\\"]\", opt).checked = true;\n      send(\"vote\", {\"storyID\": id, \"vote\": opt.dataset.choice});\n      return false;\n    };\n  });\n}\n\nfunction wireStoryModalFormDelete(id: string, frm: HTMLFormElement) {\n  frm.onsubmit = () => {\n    if (!confirm(\"Are you sure you want to delete this story?\")) {\n      return false;\n    }\n    send(\"child-remove\", {\"storyID\": id});\n    document.location.hash = \"\";\n    return false;\n  };\n}\n\nexport function wireStoryModal(el: HTMLElement) {\n  const id = el.dataset.id;\n  if (!id) {\n    console.warn(\"no id in dataset\", el);\n    return;\n  }\n  els(\".vote-submit-button\", el).forEach((e) => {\n    e.style.display = \"none\";\n  });\n  els<HTMLAnchorElement>(\".link-edit\", el).forEach((e) => wireStoryModalFormEdit(id, e));\n  els<HTMLFormElement>(\".status-new-form-delete\", el).forEach((e) => wireStoryModalFormDelete(id, e));\n  els<HTMLFormElement>(\".status-new-form-next\", el).forEach((e) => wireStoryModalFormToActive(id, e));\n  els<HTMLFormElement>(\".status-active-form-prev\", el).forEach((e) => wireStoryModalFormToNew(id, e));\n  els<HTMLFormElement>(\".status-active-form-next\", el).forEach((e) => wireStoryModalFormToComplete(id, e));\n  els(\".story-vote-options\", el).forEach((e) => wireStoryModalFormVote(id, e));\n  els<HTMLFormElement>(\".status-complete-form-prev\", el).forEach((e) => wireStoryModalFormToActive(id, e));\n}\n", "import {els, req} from \"./dom\";\nimport {send} from \"./app\";\nimport {snippetStory} from \"./stories\";\nimport {wireStoryModal} from \"./storymodal\";\nimport {initCommentsModal} from \"./comment\";\nimport {flashCreate} from \"./flash\";\nimport {focusDelay} from \"./util\";\n\nexport type Story = {\n  id: string;\n  idx: number;\n  estimateID: string;\n  title: string;\n  status: string;\n  finalVote: string;\n  userID: string;\n  updated: string;\n  created: string;\n}\n\nexport function initStories() {\n  els<HTMLAnchorElement>(\".add-story-link\").forEach((x) => {\n    x.onclick = () => {\n      return focusDelay(req<HTMLInputElement>(\"#story-add-title\"));\n    };\n  });\n\n  const storyAddModal = req(\"#modal-story--add\");\n  const storyAddForm = req(\"form\", storyAddModal);\n  storyAddForm.onsubmit = () => {\n    const input = req<HTMLInputElement>(\"input[name=\\\"title\\\"]\", storyAddForm);\n    const title = input.value;\n    input.value = \"\";\n    send(\"child-add\", {\"title\": title});\n    document.location.hash = \"\";\n    return false;\n  };\n  els(\"#story-modals .modal-story\").forEach(wireStoryModal);\n}\n\nexport function storyAdd(s: Story) {\n  const tbl = req(\"#panel-detail table tbody\");\n  let idx = -1;\n  for (let i = 0; i < tbl.children.length; i++) {\n    const n = tbl.children.item(i) as HTMLElement;\n    const title = req(\".story-title\", n).innerText;\n    const currIdxStr = n.dataset.index;\n    if (currIdxStr) {\n      const currIdx = parseInt(currIdxStr, 10);\n      if (currIdx >= s.idx) {\n        idx = i;\n        break;\n      } else if (title.localeCompare(s.title, undefined, {sensitivity: \"accent\"}) >= 0) {\n        idx = i;\n        break;\n      }\n    }\n  }\n  const tr = snippetStory(s);\n  if (idx === -1) {\n    tbl.appendChild(tr);\n  } else {\n    tbl.insertBefore(tr, tbl.children[idx]);\n  }\n\n  initCommentsModal(req(\".modal\", tr));\n\n  const prototype = req(\"#modal-story-new\");\n\n  const modal = prototype.cloneNode(true) as HTMLDivElement;\n  modal.id = \"modal-story-\" + s.id;\n  modal.dataset.id = s.id;\n  modal.dataset.status = s.status;\n  modal.classList.add(\"modal-story\");\n  req(\"#story-modals\").appendChild(modal);\n  if (document.location.hash === \"modal-story--add\" || document.location.hash === \"\") {\n    document.location.hash = \"modal-story-\" + s.id;\n  }\n}\n\nexport function storyStatus(s: Story) {\n  const modal = req(\"#modal-story-\" + s.id);\n  req(\".status-new\", modal).style.display = s.status === \"new\" ? \"block\" : \"none\";\n  req(\".status-active\", modal).style.display = s.status === \"active\" ? \"block\" : \"none\";\n  req(\".status-complete\", modal).style.display = s.status === \"complete\" ? \"block\" : \"none\";\n}\n\nexport function storyRemove(id: string) {\n  const tr = req(\"#story-row-\" + id);\n  const title = req(\".story-title\", tr).innerText;\n  flashCreate(id + \"-removed\", \"success\", `story [${title}] has been removed`);\n  tr.remove();\n  req(\"#modal-story-\" + id).remove();\n}\n\n", "import {initStories, Story, storyAdd, storyRemove, storyStatus} from \"./story\";\nimport type {Message} from \"./socket\";\nimport {opt, req} from \"./dom\";\nimport {send} from \"./app\";\nimport {configFocus, setTeamSprint} from \"./workspace\";\nimport {tagsWire} from \"./tags\";\nimport {loadPermsForm, Permission, permissionsSprintToggle, permissionsTeamToggle, permissionsUpdate} from \"./permission\";\n\nexport type Estimate = {\n  id: string;\n  slug: string;\n  title: string;\n  choices: string[];\n  icon: string;\n  status: string;\n  teamID: string;\n  sprintID: string;\n  owner: string;\n}\n\nexport function initEstimate() {\n  configFocus(\"estimate\");\n  const frm = opt<HTMLFormElement>(\"#modal-estimate-config form\");\n  if (frm) {\n    const teamEl = req<HTMLSelectElement>(\"select[name=\\\"team\\\"]\", frm);\n    teamEl.onchange = () => {\n      permissionsTeamToggle(teamEl.value !== \"\");\n    };\n    const sprintEl = req<HTMLSelectElement>(\"select[name=\\\"sprint\\\"]\", frm);\n    sprintEl.onchange = () => {\n      permissionsSprintToggle(sprintEl.value !== \"\");\n    };\n    permissionsTeamToggle(teamEl.value !== \"\");\n    permissionsSprintToggle(sprintEl.value !== \"\");\n    frm.onsubmit = () => {\n      const title = req<HTMLInputElement>(\"input[name=\\\"title\\\"]\", frm).value;\n      const icon = req<HTMLInputElement>(\"input[name=\\\"icon\\\"]:checked\", frm).value;\n      const choices = req<HTMLInputElement>(\"input[name=\\\"choices\\\"]\", frm).value;\n      send(\"update\", {\"title\": title, \"icon\": icon, \"choices\": choices, \"team\": teamEl.value, \"sprint\": sprintEl.value, ...loadPermsForm(frm)});\n      document.location.hash = \"\";\n      return false;\n    };\n  }\n  initStories();\n}\n\nfunction onUpdate(param: Estimate) {\n  req(\"#owner-id\").innerText = param.owner;\n  const panel = req<HTMLElement>(\"#modal-estimate-config\");\n  const frm = opt<HTMLFormElement>(\"form\", panel);\n  if (frm) {\n    const ch = req<HTMLInputElement>(\"input[name=\\\"choices\\\"]\", frm);\n    ch.value = param.choices.join(\",\");\n    if (ch.parentElement) {\n      tagsWire(ch.parentElement);\n    }\n  } else {\n    req(\".config-panel-choices\", panel).innerText = param.choices.join(\", \");\n  }\n  setTeamSprint(\"estimate\", panel, param.teamID, param.sprintID, param.title, param.icon);\n}\n\nexport function handleEstimate(m: Message) {\n  switch (m.cmd) {\n    case \"update\":\n      return onUpdate(m.param as Estimate);\n    case \"child-add\":\n      return storyAdd(m.param as Story);\n    case \"child-status\":\n      return storyStatus(m.param as Story);\n    case \"child-remove\":\n      return storyRemove(m.param as string);\n    case \"permissions\":\n      return permissionsUpdate(m.param as Permission[]);\n    default:\n      throw new Error(\"invalid estimate command [\" + m.cmd + \"]\");\n  }\n}\n", "import {JSX} from \"./jsx\"; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport type {Report} from \"./report\";\nimport {username} from \"./member\";\nimport {snippetCommentsModal, snippetCommentsModalLink} from \"./comments\";\nimport {expandCollapse} from \"./util\";\n\nexport function snippetReportContainer(day: string) {\n  return <li id={\"report-group-\" + day}>\n    <input id={\"accordion-\" + day} type=\"checkbox\" hidden checked=\"checked\"/>\n    <label for={\"accordion-\" + day} dangerouslySetInnerHTML={expandCollapse(day)}></label>\n    <div class=\"bd\"></div>\n  </li>;\n}\n\nexport function snippetReport(r: Report): HTMLElement {\n  return <div class=\"report\" id={\"report-\" + r.id}>\n    <div>\n      <div class=\"right\">{snippetCommentsModalLink(\"report\", r.id)}</div>\n      {snippetCommentsModal(\"report\", r.id, r.id)}\n      <a href={\"#modal-report-\" + r.id} data-id={r.id} class=\"clean\">\n        <h4 class=\"username\">{username(r.userID)}</h4>\n        <div class=\"pt\">{r.html}</div>\n      </a>\n    </div>\n  </div>;\n}\n\nexport function snippetReportModalView(r: Report): HTMLElement {\n  return <div id={\"modal-report-\" + r.id} class=\"modal modal-report-view\" style=\"display: none;\">\n    <a class=\"backdrop\" href=\"#\"></a>\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <a href=\"#\" class=\"modal-close\">\u00D7</a>\n        <h2>{r.day + \": \" + username(r.userID)}</h2>\n      </div>\n      <div class=\"modal-body\" dangerouslySetInnerHTML={r.html}></div>\n    </div>\n  </div>;\n}\n\nexport function snippetReportModalEdit(r: Report): HTMLElement {\n  return <div id={\"modal-report-\" + r.id} class=\"modal modal-report-edit\" style=\"display: none;\">\n    <a class=\"backdrop\" href=\"#\"></a>\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <a href=\"#\" class=\"modal-close\">\u00D7</a>\n        <h2>{r.day + \": \" + username(r.userID)}</h2>\n      </div>\n      <div class=\"modal-body\">\n        <form action=\"#\" method=\"post\">\n          <input type=\"hidden\" name=\"reportID\" value={ r.id } />\n          <div class=\"mb expanded\">\n            <label for={\"input-day-\" + r.id}><em class=\"title\">Day</em></label>\n            <div><input type=\"date\" id={\"input-day-\" + r.id} name=\"day\" value={r.day} /></div>\n          </div>\n          <div class=\"mb expanded\">\n            <label for={\"input-content-\" + r.id}><em class=\"title\">Content</em></label>\n            <div><textarea id={\"input-content-\" + r.id} name=\"content\">{ r.content }</textarea></div>\n          </div>\n          <div class=\"right\"><button class=\"report-edit-save\" type=\"submit\" name=\"action\" value=\"child-update\">Save Changes</button></div>\n          <button class=\"report-edit-delete\" type=\"submit\" name=\"action\" value=\"child-remove\" onclick=\"return confirm('Are you sure you want to delete this report?');\">Delete</button>\n        </form>\n      </div>\n    </div>\n  </div>;\n}\n", "import {els, opt, req} from \"./dom\";\nimport {send} from \"./app\";\nimport {snippetReport, snippetReportContainer, snippetReportModalEdit, snippetReportModalView} from \"./reports\";\nimport {getSelfID, username} from \"./member\";\nimport {initCommentsModal} from \"./comment\";\nimport {flashCreate} from \"./flash\";\nimport {focusDelay} from \"./util\";\n\nexport type Report = {\n  id: string;\n  day: string;\n  userID: string;\n  content: string;\n  html?: string\n}\n\nfunction initEditModal(modal: HTMLElement) {\n  const frm = req(\"form\", modal);\n  const reportID = req<HTMLInputElement>(\"input[name=\\\"reportID\\\"]\", frm).value;\n  req<HTMLElement>(\".report-edit-delete\", frm).onclick = () => {\n    if (confirm(\"Are you sure you want to delete this report?\")) {\n      send(\"child-remove\", {\"reportID\": reportID});\n      document.location.hash = \"\";\n    }\n    return false;\n  };\n  frm.onsubmit = () => {\n    const day = req<HTMLInputElement>(\"input[name=\\\"day\\\"]\", frm).value;\n    const input = req<HTMLTextAreaElement>(\"textarea[name=\\\"content\\\"]\", frm);\n    const content = input.value;\n    send(\"child-update\", {\"reportID\": reportID, \"day\": day, \"content\": content});\n    document.location.hash = \"\";\n    return false;\n  };\n}\n\nexport function initReports() {\n  els<HTMLAnchorElement>(\".add-report-link\").forEach((x) => {\n    x.onclick = () => {\n      return focusDelay(req<HTMLInputElement>(\"#report-add-content\"));\n    };\n  });\n  els<HTMLAnchorElement>(\".modal-report-edit-link\").forEach((x) => {\n    x.onclick = () => {\n      return focusDelay(req<HTMLInputElement>(\"#input-content-\" + x.dataset.id));\n    };\n  });\n\n  const reportAddModal = req(\"#modal-report--add\");\n  const reportAddForm = req(\"form\", reportAddModal);\n  reportAddForm.onsubmit = () => {\n    const day = req<HTMLInputElement>(\"input[name=\\\"day\\\"]\", reportAddForm).value;\n    const input = req<HTMLTextAreaElement>(\"textarea[name=\\\"content\\\"]\", reportAddForm);\n    const content = input.value;\n    input.value = \"\";\n    send(\"child-add\", {\"day\": day, \"content\": content});\n    document.location.hash = \"\";\n    return false;\n  };\n\n  els(\".modal-report-edit\").forEach(initEditModal);\n}\n\nexport function reportAdd(r: Report) {\n  if (r.day.length > 10) {\n    r.day = r.day.substring(0, 10);\n  }\n  let list = opt(\"#report-group-\" + r.day + \" .bd\");\n\n  if (!list) {\n    const x = snippetReportContainer(r.day);\n    req(\"#report-groups\").appendChild(x);\n    list = req(\".bd\", x);\n  }\n\n  let idx = -1;\n  const u = username(r.userID);\n  for (let i = 0; i < list.children.length; i++) {\n    const n = list.children.item(i) as HTMLElement;\n    const tgt = req(\".username\", n).innerText;\n    if (tgt.localeCompare(u, undefined, {sensitivity: \"accent\"}) >= 0) {\n      idx = i;\n      break;\n    }\n  }\n  const div = snippetReport(r);\n  if (idx === -1) {\n    list.appendChild(div);\n  } else {\n    list.insertBefore(div, list.children[idx]);\n  }\n  if (getSelfID() === r.userID) {\n    const modal = snippetReportModalEdit(r);\n    initEditModal(modal);\n    req(\"#report-modals\").appendChild(modal);\n  } else {\n    req(\"#report-modals\").appendChild(snippetReportModalView(r));\n  }\n  initCommentsModal(req(\".modal\", div));\n}\n\nexport function reportRemove(id: string) {\n  req(\"#report-\" + id).remove();\n  flashCreate(id + \"-removed\", \"success\", `report has been removed`);\n  req(\"#modal-report-\" + id).remove();\n}\n", "import type {Message} from \"./socket\";\nimport {opt, req} from \"./dom\";\nimport {send} from \"./app\";\nimport {configFocus, setTeamSprint} from \"./workspace\";\nimport {initReports, Report, reportAdd, reportRemove} from \"./report\";\nimport {loadPermsForm, Permission, permissionsSprintToggle, permissionsTeamToggle, permissionsUpdate} from \"./permission\";\n\nexport type Standup = {\n  id: string;\n  slug: string;\n  title: string;\n  icon: string;\n  status: string;\n  teamID: string;\n  sprintID: string;\n  owner: string;\n}\n\nexport function initStandup() {\n  configFocus(\"standup\");\n  const frm = opt<HTMLFormElement>(\"#modal-standup-config form\");\n  if (frm) {\n    const teamEl = req<HTMLSelectElement>(\"select[name=\\\"team\\\"]\", frm);\n    teamEl.onchange = () => {\n      permissionsTeamToggle(teamEl.value !== \"\");\n    };\n    const sprintEl = req<HTMLSelectElement>(\"select[name=\\\"sprint\\\"]\", frm);\n    sprintEl.onchange = () => {\n      permissionsSprintToggle(sprintEl.value !== \"\");\n    };\n    permissionsTeamToggle(teamEl.value !== \"\");\n    permissionsSprintToggle(sprintEl.value !== \"\");\n    frm.onsubmit = () => {\n      const title = req<HTMLInputElement>(\"input[name=\\\"title\\\"]\", frm).value;\n      const icon = req<HTMLInputElement>(\"input[name=\\\"icon\\\"]:checked\", frm).value;\n      send(\"update\", {\"title\": title, \"icon\": icon, \"team\": teamEl.value, \"sprint\": sprintEl.value, ...loadPermsForm(frm)});\n      document.location.hash = \"\";\n      return false;\n    };\n  }\n  initReports();\n}\n\nfunction onUpdate(param: Standup) {\n  req(\"#owner-id\").innerText = param.owner;\n  const frm = req<HTMLFormElement>(\"#modal-standup-config\");\n  setTeamSprint(\"standup\", frm, param.teamID, param.sprintID, param.title, param.icon);\n}\n\nexport function handleStandup(m: Message) {\n  switch (m.cmd) {\n    case \"update\":\n      return onUpdate(m.param as Standup);\n    case \"child-add\":\n      return reportAdd(m.param as Report);\n    case \"child-update\":\n      return console.log(\"TODO: child-update\");\n      // return reportUpdate(m.param as Report);\n    case \"child-remove\":\n      return reportRemove(m.param as string);\n    case \"permissions\":\n      return permissionsUpdate(m.param as Permission[]);\n    default:\n      throw new Error(\"invalid standup command [\" + m.cmd + \"]\");\n  }\n}\n", "import {JSX} from \"./jsx\"; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport type {Feedback} from \"./feedback\";\nimport {username} from \"./member\";\nimport {snippetCommentsModal, snippetCommentsModalLink} from \"./comments\";\nimport {els} from \"./dom\";\n\nexport function snippetFeedbackContainer(cat: string) {\n  return <div id={\"category-\" + cat} data-category={cat} class=\"category\">\n    <div class=\"right\"><a class=\"add-feedback-link\" data-category={cat} href={\"#modal-feedback--add-\" + cat}>\n      <button>New</button>\n    </a></div>\n    <h4><a href={\"#modal-feedback--add-\" + cat}>{cat}</a></h4>\n    <div class=\"clear\"></div>\n    <div class=\"feedback-list\"></div>\n    <div id={\"modal-feedback--add-\" + cat} class=\"modal modal-feedback-add\" data-category={cat} style=\"display: none;\">\n      <a class=\"backdrop\" href=\"#\"></a>\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <a href=\"#\" class=\"modal-close\">\u00D7</a>\n          <h2>New Feedback</h2>\n        </div>\n        <div class=\"modal-body\">\n          <form action=\"#\" method=\"post\">\n            <input type=\"hidden\" name=\"action\" value=\"child-add\"/>\n            <input type=\"hidden\" name=\"action\" value=\"child-add\"/>\n            <div class=\"mb expanded\">\n              <label for={\"category-\" + cat + \"-select\"}><em class=\"title\">Category</em></label>\n              <div>\n                <select name=\"category\" id={\"category-\" + cat + \"-select\"}>\n                  <option selected=\"selected\" value=\"TODO\">TODO</option>\n                </select>\n              </div>\n            </div>\n            <div class=\"mb expanded\">\n              <label for={\"feedback-add-content-\" + cat}><em class=\"title\">Content</em></label>\n              <div><textarea rows=\"8\" id={\"feedback-add-content-\" + cat} name=\"content\" placeholder=\"HTML and Markdown supported\"></textarea></div>\n            </div>\n            <button type=\"submit\">Add Feedback</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>;\n}\n\nexport function snippetFeedback(f: Feedback) {\n  return <div id={\"feedback-\" + f.id} class=\"feedback mt clear\">\n    <div class=\"right\">{snippetCommentsModalLink(\"feedback\", f.id)}</div>\n    {snippetCommentsModal(\"feedback\", f.id, f.id)}\n    <a href={\"#modal-feedback-\" + f.id} class=\"clean modal-feedback-edit-link\" data-id={f.id}>\n      <div>{username(f.userID)}</div>\n      <div class=\"pt feedback-content\">{f.html}</div>\n    </a>\n  </div>;\n}\n\nexport function snippetFeedbackModalView(r: Feedback): HTMLElement {\n  return <div id={\"modal-feedback-\" + r.id} class=\"modal modal-feedback-view\" style=\"display: none;\">\n    <a class=\"backdrop\" href=\"#\"></a>\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <a href=\"#\" class=\"modal-close\">\u00D7</a>\n        <h2>{r.category + \" :: \" + username(r.userID)}</h2>\n      </div>\n      <div class=\"modal-body\" dangerouslySetInnerHTML={r.html}></div>\n    </div>\n  </div>;\n}\n\nconst oc = \"return confirm('Are you sure you want to delete this feedback?');\";\n\nfunction categoryOptions(selected: string) {\n  return els(\".category\").map((x) => x.dataset.category).map((x) => {\n    if (x === selected) {\n      return <option value={x} selected=\"selected\">{x}</option>;\n    }\n    return <option value={x}>{x}</option>;\n  });\n}\n\nexport function snippetFeedbackModalEdit(r: Feedback): HTMLElement {\n  return <div id={\"modal-feedback-\" + r.id} class=\"modal modal-feedback-edit\" style=\"display: none;\">\n    <a class=\"backdrop\" href=\"#\"></a>\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <a href=\"#\" class=\"modal-close\">\u00D7</a>\n        <h2>{r.category + \" :: \" + username(r.userID)}</h2>\n      </div>\n      <div class=\"modal-body\">\n        <form action=\"#\" method=\"post\">\n          <input type=\"hidden\" name=\"feedbackID\" value={ r.id } />\n          <div class=\"mb expanded\">\n            <label for={\"input-category-\" + r.id}><em class=\"title\">Category</em></label>\n            <div><select id={\"input-category-\" + r.id} name=\"category\">\n              { categoryOptions(r.category) }\n            </select></div>\n          </div>\n          <div class=\"mb expanded\">\n            <label for={\"input-content-\" + r.id}><em class=\"title\">Content</em></label>\n            <div><textarea id={\"input-content-\" + r.id} name=\"content\">{ r.content }</textarea></div>\n          </div>\n          <div class=\"right\"><button class=\"feedback-edit-save\" type=\"submit\" name=\"action\" value=\"child-update\">Save Changes</button></div>\n          <button class=\"feedback-edit-delete\" type=\"submit\" name=\"action\" value=\"child-remove\" onclick={oc}>Delete</button>\n        </form>\n      </div>\n    </div>\n  </div>;\n}\n", "import {els, opt, req} from \"./dom\";\nimport {send} from \"./app\";\nimport {snippetFeedback, snippetFeedbackContainer, snippetFeedbackModalEdit, snippetFeedbackModalView} from \"./feedbacks\";\nimport {initCommentsModal} from \"./comment\";\nimport {flashCreate} from \"./flash\";\nimport {focusDelay} from \"./util\";\nimport {getSelfID} from \"./member\";\n\nexport type Feedback = {\n  id: string;\n  category: string;\n  idx: number;\n  userID: string;\n  content: string;\n  html?: string\n}\n\nfunction initAddModal(feedbackAddModal: HTMLElement) {\n  const feedbackAddForm = req(\"form\", feedbackAddModal);\n  feedbackAddForm.onsubmit = () => {\n    const category = req<HTMLSelectElement>(\"select[name=\\\"category\\\"]\", feedbackAddForm).value;\n    const input = req<HTMLTextAreaElement>(\"textarea[name=\\\"content\\\"]\", feedbackAddForm);\n    const content = input.value;\n    input.value = \"\";\n    send(\"child-add\", {\"category\": category, \"content\": content});\n    document.location.hash = \"\";\n    return false;\n  };\n}\n\nfunction initEditModal(feedbackEditModal: HTMLElement) {\n  const frm = req(\"form\", feedbackEditModal);\n  const feedbackID = req<HTMLInputElement>(\"input[name=\\\"feedbackID\\\"]\", frm).value;\n  req<HTMLElement>(\".feedback-edit-delete\", frm).onclick = () => {\n    if (confirm(\"Are you sure you want to delete this feedback?\")) {\n      send(\"child-remove\", {\"feedbackID\": feedbackID});\n      document.location.hash = \"\";\n    }\n    return false;\n  };\n  frm.onsubmit = () => {\n    const category = req<HTMLSelectElement>(\"select[name=\\\"category\\\"]\", frm).value;\n    const input = req<HTMLTextAreaElement>(\"textarea[name=\\\"content\\\"]\", frm);\n    const content = input.value;\n    send(\"child-update\", {\"feedbackID\": feedbackID, \"category\": category, \"content\": content});\n    document.location.hash = \"\";\n    return false;\n  };\n}\n\nexport function initFeedbacks() {\n  els<HTMLAnchorElement>(\".add-feedback-link\").forEach((x) => {\n    x.onclick = () => {\n      return focusDelay(req<HTMLInputElement>(\"#feedback-add-content-\" + x.dataset.category));\n    };\n  });\n  els<HTMLAnchorElement>(\".modal-feedback-edit-link\").forEach((x) => {\n    x.onclick = () => {\n      return focusDelay(req<HTMLInputElement>(\"#input-content-\" + x.dataset.id));\n    };\n  });\n  for (const feedbackAddModal of els(\".modal-feedback-add\")) {\n    initAddModal(feedbackAddModal);\n  }\n  els(\".modal-feedback-edit\").forEach(initEditModal);\n}\n\nexport function feedbackAdd(f: Feedback) {\n  let list = opt(\"#category-\" + f.category + \" .feedback-list\");\n\n  if (!list) {\n    const x = snippetFeedbackContainer(f.category);\n    req(\"#category-list\").appendChild(x);\n    list = req(\".feedback-list\", x);\n  }\n\n  let idx = -1;\n  for (let i = 0; i < list.children.length; i++) {\n    const n = list.children.item(i) as HTMLElement;\n    const title = req(\".feedback-content\", n).innerText;\n    const currIdxStr = n.dataset.index;\n    if (currIdxStr) {\n      const currIdx = parseInt(currIdxStr, 10);\n      if (currIdx >= f.idx) {\n        idx = i;\n        break;\n      } else if (title.localeCompare(f.content, undefined, {sensitivity: \"accent\"}) >= 0) {\n        idx = i;\n        break;\n      }\n    }\n  }\n  const tr = snippetFeedback(f);\n  if (idx === -1) {\n    list.appendChild(tr);\n  } else {\n    list.insertBefore(tr, list.children[idx]);\n  }\n  if (getSelfID() === f.userID) {\n    const modal = snippetFeedbackModalEdit(f);\n    initEditModal(modal);\n    req(\"#feedback-modals\").appendChild(modal);\n  } else {\n    req(\"#feedback-modals\").appendChild(snippetFeedbackModalView(f));\n  }\n\n  initCommentsModal(req(\".modal\", tr));\n}\n\nexport function feedbackRemove(id: string) {\n  req(\"#feedback-\" + id).remove();\n  flashCreate(id + \"-removed\", \"success\", `feedback has been removed`);\n  req(\"#modal-feedback-\" + id).remove();\n}\n", "import type {Message} from \"./socket\";\nimport {opt, req} from \"./dom\";\nimport {send} from \"./app\";\nimport {configFocus, setTeamSprint} from \"./workspace\";\nimport {tagsWire} from \"./tags\";\nimport {Feedback, feedbackAdd, feedbackRemove, initFeedbacks} from \"./feedback\";\nimport {loadPermsForm, Permission, permissionsSprintToggle, permissionsTeamToggle, permissionsUpdate} from \"./permission\";\n\nexport type Retro = {\n  id: string;\n  slug: string;\n  title: string;\n  categories: string[];\n  icon: string;\n  status: string;\n  teamID: string;\n  sprintID: string;\n  owner: string;\n}\n\nexport function initRetro() {\n  configFocus(\"retro\");\n  const frm = opt<HTMLFormElement>(\"#modal-retro-config form\");\n  if (frm) {\n    const teamEl = req<HTMLSelectElement>(\"select[name=\\\"team\\\"]\", frm);\n    teamEl.onchange = () => {\n      permissionsTeamToggle(teamEl.value !== \"\");\n    };\n    const sprintEl = req<HTMLSelectElement>(\"select[name=\\\"sprint\\\"]\", frm);\n    sprintEl.onchange = () => {\n      permissionsSprintToggle(sprintEl.value !== \"\");\n    };\n    permissionsTeamToggle(teamEl.value !== \"\");\n    permissionsSprintToggle(sprintEl.value !== \"\");\n    frm.onsubmit = () => {\n      const title = req<HTMLInputElement>(\"input[name=\\\"title\\\"]\", frm).value;\n      const icon = req<HTMLInputElement>(\"input[name=\\\"icon\\\"]:checked\", frm).value;\n      const categories = req<HTMLInputElement>(\"input[name=\\\"categories\\\"]\", frm).value;\n      send(\"update\", {\"title\": title, \"icon\": icon, \"categories\": categories, \"team\": teamEl.value, \"sprint\": sprintEl.value, ...loadPermsForm(frm)});\n      document.location.hash = \"\";\n      return false;\n    };\n  }\n  initFeedbacks();\n}\n\nfunction onUpdate(param: Retro) {\n  req(\"#owner-id\").innerText = param.owner;\n  const panel = req<HTMLElement>(\"#modal-retro-config\");\n  const frm = opt<HTMLFormElement>(\"form\", panel);\n  if (frm) {\n    const cat = req<HTMLInputElement>(\"input[name=\\\"categories\\\"]\", frm);\n    cat.value = param.categories.join(\",\");\n    if (cat.parentElement) {\n      tagsWire(cat.parentElement);\n    }\n  } else {\n    req(\".config-panel-categories\", panel).innerText = param.categories.join(\", \");\n  }\n  setTeamSprint(\"retro\", panel, param.teamID, param.sprintID, param.title, param.icon);\n  // const listEl = req(\"#category-list\");\n  // for (const catEl of els(\" .category\", listEl)) {\n  //   TODO\n  // }\n}\n\nexport function handleRetro(m: Message) {\n  switch (m.cmd) {\n    case \"update\":\n      return onUpdate(m.param as Retro);\n    case \"child-add\":\n      return feedbackAdd(m.param as Feedback);\n    case \"child-update\":\n      return console.log(\"TODO: child-update\");\n    // return feedbackUpdate(m.param as Feedback);\n    case \"child-remove\":\n      return feedbackRemove(m.param as string);\n    case \"permissions\":\n      return permissionsUpdate(m.param as Permission[]);\n    default:\n      throw new Error(\"invalid retro command [\" + m.cmd + \"]\");\n  }\n}\n", "import type {Message} from \"./socket\";\nimport {commentAdd, Comment} from \"./comment\";\nimport {memberAdd, MemberMessage, memberRemove, memberUpdate, onlineUpdate} from \"./member\";\nimport {flashCreate} from \"./flash\";\nimport {handleTeam} from \"./team\";\nimport {handleSprint} from \"./sprint\";\nimport {handleEstimate} from \"./estimate\";\nimport {handleStandup} from \"./standup\";\nimport {handleRetro} from \"./retro\";\n\nfunction onMessage(x: { level: \"success\" | \"error\", message: string }) {\n  flashCreate(\"adhoc-message\", x.level, x.message);\n}\n\nexport function handle(svc: string, m: Message) {\n  switch (m.cmd) {\n    case \"reset\":\n      document.location.href = \"/\";\n      return;\n    case \"message\":\n      return onMessage(m.param as { level: \"success\" | \"error\", message: string });\n    case \"comment\":\n      return commentAdd(m.param as Comment);\n    case \"online-update\":\n      return onlineUpdate(m.param as { userID: string; connected: boolean; });\n    case \"member-add\":\n      return memberAdd(m.param as MemberMessage);\n    case \"member-update\":\n      return memberUpdate(m.param as MemberMessage);\n    case \"member-remove\":\n      return memberRemove(m.param as string);\n  }\n  switch (svc) {\n    case \"team\":\n      return handleTeam(m);\n    case \"sprint\":\n      return handleSprint(m);\n    case \"estimate\":\n      return handleEstimate(m);\n    case \"standup\":\n      return handleStandup(m);\n    case \"retro\":\n      return handleRetro(m);\n    default:\n      throw new Error(\"invalid service [\" + svc + \"]\");\n  }\n}\n", "import {initComments} from \"./comment\";\nimport {handle} from \"./handle\";\nimport {initMembers} from \"./member\";\nimport {Message, Socket} from \"./socket\";\nimport {initEstimate} from \"./estimate\";\nimport {initTeam} from \"./team\";\nimport {initSprint} from \"./sprint\";\nimport {initStandup} from \"./standup\";\nimport {initRetro} from \"./retro\";\n\nlet sock: Socket;\nlet svc: string;\nlet id: string;\n\nfunction open() {\n  console.log(\"[socket]: open\");\n}\n\nfunction recv(m: Message) {\n  const list = document.getElementById(\"socket-list\");\n  if (list) {\n    const pre = document.createElement(\"pre\");\n    pre.innerText = JSON.stringify(m, null, 2);\n    list.append(pre);\n  }\n  handle(svc, m);\n}\n\nfunction err(e: unknown) {\n  console.log(`[socket error]: ${e}`);\n}\n\nexport function initWorkspace(t: string, idStr: string) {\n  svc = t;\n  id = idStr;\n  initComments();\n  initMembers();\n  switch (svc) {\n    case \"team\":\n      initTeam();\n      break;\n    case \"sprint\":\n      initSprint();\n      break;\n    case \"estimate\":\n      initEstimate();\n      break;\n    case \"standup\":\n      initStandup();\n      break;\n    case \"retro\":\n      initRetro();\n      break;\n  }\n  sock = new Socket(true, open, recv, err, \"/\" + svc + \"/\" + id + \"/connect\");\n  console.log(\"loaded [\" + svc + \"] workspace [\" + id + \"]\");\n}\n\nexport function send(cmd: string, param: unknown) {\n  sock.send({channel: svc + \":\" + id, cmd: cmd, param: param});\n}\n\ndeclare global {\n  interface Window { // eslint-disable-line @typescript-eslint/consistent-type-definitions\n    initWorkspace: (t: string, idStr: string) => void\n  }\n}\n\nexport function appInit(): void {\n  window.initWorkspace = initWorkspace;\n}\n", "// Content managed by Project Forge, see [projectforge.md] for details.\nimport \"./client.css\";\nimport {JSX} from \"./jsx\"; // eslint-disable-line @typescript-eslint/no-unused-vars\nimport {menuInit} from \"./menu\";\nimport {modeInit} from \"./mode\";\nimport {flashInit} from \"./flash\";\nimport {linkInit} from \"./link\";\nimport {timeInit} from \"./time\";\nimport {autocompleteInit} from \"./autocomplete\";\nimport {modalInit} from \"./modal\";\nimport {tagsInit} from \"./tags\";\nimport {editorInit} from \"./editor\";\nimport {themeInit} from \"./theme\";\nimport {socketInit} from \"./socket\";\nimport {appInit} from \"./app\";\n\ndeclare global {\n  interface Window { // eslint-disable-line @typescript-eslint/consistent-type-definitions\n    \"rituals\": {\n      relativeTime: (time: string, el?: HTMLElement) => string;\n      autocomplete: (el: HTMLInputElement, url: string, field: string, title: (x: unknown) => string, val: (x: unknown) => string) => void;\n      setSiblingToNull: (el: HTMLElement) => void;\n      initForm: (frm: HTMLFormElement) => void;\n      flash: (key: string, level: \"success\" | \"error\", msg: string) => void;\n      tags: (el: HTMLElement) => void;\n      Socket: unknown;\n    };\n    \"JSX\": (tag: string, attrs: unknown[]) => HTMLElement;\n  }\n}\n\nexport function init(): void {\n  const [s, i] = editorInit();\n  window.rituals = {\n    relativeTime: timeInit(),\n    autocomplete: autocompleteInit(),\n    setSiblingToNull: s,\n    initForm: i,\n    flash: flashInit(),\n    tags: tagsInit(),\n    Socket: socketInit()\n  };\n  menuInit();\n  modeInit();\n  linkInit();\n  modalInit();\n  themeInit();\n  window.JSX = JSX;\n  appInit();\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", init);\n"],
  "mappings": "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",
  "names": []
}
