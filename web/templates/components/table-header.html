<%: func ComponentTableHeader(key string, title string, params *query.Params, ctx web.RequestContext, buffer *bytes.Buffer) %>
<% if params == nil { %>
  <th><%= title %> (missing)</th>
<% } else { %>
  <% o := params.GetOrdering(key) %>
  <% if o == nil { %>
    <th class="uk-transition-toggle">
      <a class="<%= ctx.Profile.LinkClass() %>" href="?<%= params.Clone(&query.Ordering{Column: key, Asc: true}).ToQueryString(ctx.Request) %>">
        <%= title %> <span class="uk-transition-fade" data-uk-icon="icon: chevron-down"></span>
      </a>
    </th>
  <% } else if o.Asc { %>
    <th>
      <a class="<%= ctx.Profile.LinkClass() %>" href="?<%= params.Clone(&query.Ordering{Column: key, Asc: false}).ToQueryString(ctx.Request) %>">
        <%= title %> <span data-uk-icon="icon: chevron-down"></span>
      </a>
    </th>
  <% } else { %>
    <th>
      <a class="<%= ctx.Profile.LinkClass() %>" href="?<%= params.Clone(&query.Ordering{Column: key, Asc: true}).ToQueryString(ctx.Request) %>">
        <%= title %>
        <span data-uk-icon="icon: chevron-up"></span>
      </a>
    </th>
  <% } %>
<% } %>
