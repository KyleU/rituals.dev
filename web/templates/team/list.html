<%: func TeamList(teams []*team.Session, ctx web.RequestContext, w io.Writer) (int, error) %>

<%~ "layout/basic.html" %>

<%@ body { %>
<div class="uk-section uk-section-small">
  <div class="uk-container">
    <div>
      <h1 class="uk-heading-hero">
        <div class="h1-icon" data-uk-icon="icon: <%= util.SvcTeam.Icon %>; ratio: 1.6;"></div>
        Teams
      </h1>
      <div class="uk-text-lead">Join your friends and work towards a common goal</div>
      <div class="uk-margin-top">
        <div class="uk-card <%= ctx.Profile.Theme.CardClass %> uk-card-body">
          <h3 class="uk-card-title">New Team</h3>
          <form class="uk-form-stacked" action="<%= ctx.Route(util.SvcTeam.Key + `.new`) %>" method="post">
            <fieldset class="uk-fieldset">
              <div class="uk-margin-small">
                <label class="uk-form-label" for="title">Title</label>
                <input class="uk-input" name="title" type="text" placeholder="Name your team" value="" />
              </div>

              <div class="uk-margin-top">
                <button class="uk-button uk-button-default" type="submit">Start</button>
              </div>
            </fieldset>
          </form>
        </div>

        <% if len(teams) > 0 { %>
        <div class="uk-card <%= ctx.Profile.Theme.CardClass %> uk-card-body uk-margin-top">
          <h3 class="uk-card-title">Current Teams</h3>
          <% for _, t := range teams { %>
          <div>
            <a class="<%= ctx.Profile.LinkClass() %>" href="<%= ctx.Route(util.SvcTeam.Key, `key`, t.Slug) %>"><%= t.Title %></a>
          </div>
          <% } %>
        </div>
        <% } %>
      </div>
    </div>
  </div>
</div>
<% } %>
