<%: func EstimateList(sessions []*estimate.Session, ctx web.RequestContext, w io.Writer) (int, error) %>

<%~ "layout/basic.html" %>

<%@ body { %>
<div class="uk-section uk-section-small">
  <div class="uk-container">
    <div>
      <h1 class="uk-heading-hero">Estimate Sessions</h1>
      <div class="uk-text-lead">Planning poker for any stories you need to work on</div>
      <div class="uk-margin-top">
        <div class="uk-card <%= ctx.Profile.Theme.CardClass %> uk-card-body">
          <h3 class="uk-card-title">New Estimation Session</h3>
          <form class="uk-form-stacked" action="<%= ctx.Route(`estimate.new`) %>" method="post">
            <fieldset class="uk-fieldset">
              <div class="uk-margin-small">
                <label class="uk-form-label" for="title">Title</label>
                <input class="uk-input" name="title" type="text" placeholder="Name your session" value="" />
              </div>

              <div class="uk-margin-top">
                <button class="uk-button uk-button-default" type="submit">Start</button>
              </div>
            </fieldset>
          </form>
        </div>

        <% if len(sessions) > 0 { %>
          <div class="uk-card <%= ctx.Profile.Theme.CardClass %> uk-card-body uk-margin-top">
            <h3 class="uk-card-title">Prior Sessions</h3>
            <% for _, s := range sessions { %>
            <div>
              <a class="<%= ctx.Profile.LinkClass() %>" href="<%= ctx.Route(`estimate`, `key`, s.Slug) %>"><%= s.Title %></a>
            </div>
            <% } %>
          </div>
        <% } %>
      </div>
    </div>
  </div>
</div>
<% } %>
