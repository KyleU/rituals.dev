// Code generated by hero.
// source: github.com/kyleu/rituals.dev/web/templates/auth/link.html
// DO NOT EDIT!
package templates

import (
	"bytes"

	"github.com/kyleu/rituals.dev/app/auth"
	"github.com/kyleu/rituals.dev/app/util"
	"github.com/kyleu/rituals.dev/app/web"
	"github.com/shiyanhui/hero"
)

func AuthSigninLink(p *auth.Provider, current auth.Records, ctx web.RequestContext, buffer *bytes.Buffer) {
	buffer.WriteString(`
<li>
  <a class="`)
	hero.EscapeHTML(ctx.Profile.LinkClass(), buffer)
	buffer.WriteString(` profile-link uk-icon-link signin-icon" data-uk-icon="icon: `)
	hero.EscapeHTML(p.Icon, buffer)
	buffer.WriteString(`" href="`)
	hero.EscapeHTML(ctx.Route(`auth.submit`, util.KeyKey, p.Key), buffer)
	buffer.WriteString(`"></a>
  <a class="`)
	hero.EscapeHTML(ctx.Profile.LinkClass(), buffer)
	buffer.WriteString(` profile-link" href="`)
	hero.EscapeHTML(ctx.Route(`auth.submit`, util.KeyKey, p.Key), buffer)
	buffer.WriteString(`">`)
	hero.EscapeHTML(p.Title, buffer)
	buffer.WriteString(`</a>
  `)
	for _, a := range current {
		if a.Provider == p {
			buffer.WriteString(`
      <div class="uk-article-meta auth-link">
        <a class="profile-remove right `)
			hero.EscapeHTML(ctx.Profile.LinkClass(), buffer)
			buffer.WriteString(`" href="`)
			hero.EscapeHTML(ctx.Route(`auth.signout`, util.KeyID, a.ID.String()), buffer)
			buffer.WriteString(`" title="sign out from `)
			hero.EscapeHTML(p.Title, buffer)
			buffer.WriteString(`">
          <span data-uk-icon="icon: close;"></span>
        </a>
        `)
			if len(a.Picture) > 0 {
				buffer.WriteString(`
          <div class="left uk-margin-small-right">
            <a class="`)
				hero.EscapeHTML(ctx.Profile.LinkClass(), buffer)
				buffer.WriteString(`" href="`)
				hero.EscapeHTML(ctx.Route(util.KeyProfile+`.pic`, util.KeyID, a.ID.String()), buffer)
				buffer.WriteString(`"><img class="profile-pic uk-border-circle" alt="set profile picture" src="`)
				hero.EscapeHTML(a.Picture, buffer)
				buffer.WriteString(`" /></a>
          </div>
        `)
			}
			buffer.WriteString(`
        <div class="profile-title">`)
			hero.EscapeHTML(a.Email, buffer)
			buffer.WriteString(`</div>
      </div>
    `)
		}
	}
	buffer.WriteString(`
</li>
`)

}
