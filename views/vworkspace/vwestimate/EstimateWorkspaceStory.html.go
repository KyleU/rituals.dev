// Code generated by qtc from "EstimateWorkspaceStory.html". DO NOT EDIT.
// See https://github.com/valyala/quicktemplate for details.

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:1
package vwestimate

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:1
import (
	"github.com/kyleu/rituals/app/controller/cutil"
	"github.com/kyleu/rituals/app/estimate/story"
	"github.com/kyleu/rituals/app/workspace"
	"github.com/kyleu/rituals/views/components"
)

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:8
import (
	qtio422016 "io"

	qt422016 "github.com/valyala/quicktemplate"
)

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:8
var (
	_ = qtio422016.Copy
	_ = qt422016.AcquireByteBuffer
)

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:8
func StreamEstimateWorkspaceStories(qw422016 *qt422016.Writer, w *workspace.FullEstimate, ps *cutil.PageState) {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:8
	qw422016.N().S(`
  <table class="mt expanded">
    <tbody>
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:11
	for _, s := range w.Stories {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:11
		qw422016.N().S(`      <tr>
        <td><a href="#modal-story-`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:13
		qw422016.E().S(s.ID.String())
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:13
		qw422016.N().S(`">`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:13
		qw422016.E().S(s.TitleString())
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:13
		qw422016.N().S(`</a></td>
        <td class="shrink">0</td>
      </tr>
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:16
	}
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:16
	qw422016.N().S(`    </tbody>
  </table>
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:19
	for _, s := range w.Stories {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:20
		if ps.Profile.ID == s.UserID {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:20
			qw422016.N().S(`  `)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:21
			StreamEstimateWorkspaceStoryModalEdit(qw422016, s, ps)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:21
			qw422016.N().S(`
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:22
		}
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:22
		qw422016.N().S(`  `)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:23
		StreamEstimateWorkspaceStoryModal(qw422016, w, s, ps)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:23
		qw422016.N().S(`
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:24
	}
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
}

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
func WriteEstimateWorkspaceStories(qq422016 qtio422016.Writer, w *workspace.FullEstimate, ps *cutil.PageState) {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
	qw422016 := qt422016.AcquireWriter(qq422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
	StreamEstimateWorkspaceStories(qw422016, w, ps)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
	qt422016.ReleaseWriter(qw422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
}

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
func EstimateWorkspaceStories(w *workspace.FullEstimate, ps *cutil.PageState) string {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
	qb422016 := qt422016.AcquireByteBuffer()
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
	WriteEstimateWorkspaceStories(qb422016, w, ps)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
	qs422016 := string(qb422016.B)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
	qt422016.ReleaseByteBuffer(qb422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
	return qs422016
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:25
}

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:27
func StreamEstimateWorkspaceStoryModalAdd(qw422016 *qt422016.Writer) {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:27
	qw422016.N().S(`
  <div id="modal-story--add" class="modal" style="display: none;">
    <a class="backdrop" href="#"></a>
    <div class="modal-content">
      <div class="modal-header">
        <a href="#" class="modal-close">×</a>
        <h2>Add Story</h2>
      </div>
      <div class="modal-body">
        <form action="" method="post">
          <input type="hidden" name="action" value="story-add" />
          `)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:38
	components.StreamFormVerticalInput(qw422016, "title", "Title", "", 5, "Story title")
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:38
	qw422016.N().S(`
          <div class="mt">
            <a href="#"><button type="button">Cancel</button></a>
            <button type="submit">Add Story</button>
          </div>
        </form>
      </div>
    </div>
  </div>
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
}

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
func WriteEstimateWorkspaceStoryModalAdd(qq422016 qtio422016.Writer) {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
	qw422016 := qt422016.AcquireWriter(qq422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
	StreamEstimateWorkspaceStoryModalAdd(qw422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
	qt422016.ReleaseWriter(qw422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
}

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
func EstimateWorkspaceStoryModalAdd() string {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
	qb422016 := qt422016.AcquireByteBuffer()
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
	WriteEstimateWorkspaceStoryModalAdd(qb422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
	qs422016 := string(qb422016.B)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
	qt422016.ReleaseByteBuffer(qb422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
	return qs422016
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:47
}

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:49
func StreamEstimateWorkspaceStoryModal(qw422016 *qt422016.Writer, w *workspace.FullEstimate, s *story.Story, ps *cutil.PageState) {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:49
	qw422016.N().S(`
  <div id="modal-story-`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:50
	qw422016.E().S(s.ID.String())
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:50
	qw422016.N().S(`" class="modal" style="display: none;">
    <a class="backdrop" href="#"></a>
    <div class="modal-content">
      <div class="modal-header">
        <a href="#" class="modal-close">×</a>
        <h2>Story</h2>
      </div>
      <div class="modal-body">
        <h2 class="billboard">`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:58
	qw422016.E().S(s.TitleString())
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:58
	qw422016.N().S(`</h2>
        <div>Your story is available to <a href="#modal-story-`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:59
	qw422016.E().S(s.ID.String())
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:59
	qw422016.N().S(`-edit">edit</a> and ready to start voting</div>
        <hr />
        <div>Members</div>
        <div class="story-members">
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:63
	for _, m := range w.Members {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:64
		v := w.Votes.Get(s.ID, m.UserID)

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:64
		qw422016.N().S(`          <div class="member">
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:66
		if v == nil {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:66
			qw422016.N().S(`            <div>-</div>
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:68
		} else {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:68
			qw422016.N().S(`            <div>`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:69
			qw422016.E().S(v.Choice)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:69
			qw422016.N().S(`</div>
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:70
		}
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:70
		qw422016.N().S(`            `)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:71
		qw422016.E().S(m.Name)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:71
		qw422016.N().S(`
          </div>
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:73
	}
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:73
	qw422016.N().S(`        </div>
        <hr />
        <div>Choices</div>
        <div class="story-votes">
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:78
	selfVote := w.Votes.Get(s.ID, ps.Profile.ID)

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:79
	for _, c := range w.Estimate.Choices {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:79
		qw422016.N().S(`          <div class="vote">
            <label>
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:82
		if selfVote != nil && selfVote.Choice == c {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:82
			qw422016.N().S(`              <input type="radio" name="vote" value="`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:83
			qw422016.E().S(c)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:83
			qw422016.N().S(`" checked="checked" />
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:84
		} else {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:84
			qw422016.N().S(`              <input type="radio" name="vote" value="`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:85
			qw422016.E().S(c)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:85
			qw422016.N().S(`" />
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:86
		}
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:86
		qw422016.N().S(`              <div class="vote-choice">`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:87
		qw422016.E().S(c)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:87
		qw422016.N().S(`</div>
            </label>
          </div>
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:90
	}
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:90
	qw422016.N().S(`        </div>
        <hr />
        <div>Results</div>
      </div>
    </div>
  </div>
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
}

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
func WriteEstimateWorkspaceStoryModal(qq422016 qtio422016.Writer, w *workspace.FullEstimate, s *story.Story, ps *cutil.PageState) {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
	qw422016 := qt422016.AcquireWriter(qq422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
	StreamEstimateWorkspaceStoryModal(qw422016, w, s, ps)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
	qt422016.ReleaseWriter(qw422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
}

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
func EstimateWorkspaceStoryModal(w *workspace.FullEstimate, s *story.Story, ps *cutil.PageState) string {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
	qb422016 := qt422016.AcquireByteBuffer()
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
	WriteEstimateWorkspaceStoryModal(qb422016, w, s, ps)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
	qs422016 := string(qb422016.B)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
	qt422016.ReleaseByteBuffer(qb422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
	return qs422016
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:97
}

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:99
func StreamEstimateWorkspaceStoryModalEdit(qw422016 *qt422016.Writer, s *story.Story, ps *cutil.PageState) {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:99
	qw422016.N().S(`
  <div id="modal-story-`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:100
	qw422016.E().S(s.ID.String())
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:100
	qw422016.N().S(`-edit" class="modal" style="display: none;">
    <a class="backdrop" href="#"></a>
    <div class="modal-content">
      <div class="modal-header">
        <a href="#" class="modal-close">×</a>
        <h2>Edit Story</h2>
      </div>
      <div class="modal-body">
        <form action="" method="post">
          <input type="hidden" name="action" value="story-edit" />
          <input type="hidden" name="storyID" value="`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:110
	qw422016.E().S(s.ID.String())
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:110
	qw422016.N().S(`" />
          `)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:111
	components.StreamFormVerticalInput(qw422016, "title", "Title", s.Title, 5, "Story title")
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:111
	qw422016.N().S(`
          <div class="mt">
            <a href="#"><button type="button">Cancel</button></a>
            <button type="submit">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>
`)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
}

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
func WriteEstimateWorkspaceStoryModalEdit(qq422016 qtio422016.Writer, s *story.Story, ps *cutil.PageState) {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
	qw422016 := qt422016.AcquireWriter(qq422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
	StreamEstimateWorkspaceStoryModalEdit(qw422016, s, ps)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
	qt422016.ReleaseWriter(qw422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
}

//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
func EstimateWorkspaceStoryModalEdit(s *story.Story, ps *cutil.PageState) string {
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
	qb422016 := qt422016.AcquireByteBuffer()
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
	WriteEstimateWorkspaceStoryModalEdit(qb422016, s, ps)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
	qs422016 := string(qb422016.B)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
	qt422016.ReleaseByteBuffer(qb422016)
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
	return qs422016
//line views/vworkspace/vwestimate/EstimateWorkspaceStory.html:120
}
