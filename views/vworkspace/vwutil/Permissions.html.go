// Code generated by qtc from "Permissions.html". DO NOT EDIT.
// See https://github.com/valyala/quicktemplate for details.

//line views/vworkspace/vwutil/Permissions.html:1
package vwutil

//line views/vworkspace/vwutil/Permissions.html:1
import (
	"fmt"

	"github.com/google/uuid"

	"github.com/kyleu/rituals/app/controller/cutil"
	"github.com/kyleu/rituals/app/enum"
	"github.com/kyleu/rituals/app/sprint"
	"github.com/kyleu/rituals/app/team"
	"github.com/kyleu/rituals/app/util"
	"github.com/kyleu/rituals/views/components"
)

//line views/vworkspace/vwutil/Permissions.html:14
import (
	qtio422016 "io"

	qt422016 "github.com/valyala/quicktemplate"
)

//line views/vworkspace/vwutil/Permissions.html:14
var (
	_ = qtio422016.Copy
	_ = qt422016.AcquireByteBuffer
)

//line views/vworkspace/vwutil/Permissions.html:14
func StreamPermissionsLink(qw422016 *qt422016.Writer, svc enum.ModelService, id uuid.UUID, permissions util.Permissions, ps *cutil.PageState) {
//line views/vworkspace/vwutil/Permissions.html:14
	qw422016.N().S(`
`)
//line views/vworkspace/vwutil/Permissions.html:16
	title := fmt.Sprint(len(permissions)) + " " + util.StringPluralMaybe("permission", len(permissions))
	icon := "lock"
	if len(permissions) == 0 {
		icon = "unlock"
	}

//line views/vworkspace/vwutil/Permissions.html:21
	qw422016.N().S(`  <a class="permission-link" href="#modal-`)
//line views/vworkspace/vwutil/Permissions.html:22
	qw422016.E().S(string(svc))
//line views/vworkspace/vwutil/Permissions.html:22
	qw422016.N().S(`-config" title="`)
//line views/vworkspace/vwutil/Permissions.html:22
	qw422016.E().S(title)
//line views/vworkspace/vwutil/Permissions.html:22
	qw422016.N().S(`">`)
//line views/vworkspace/vwutil/Permissions.html:22
	components.StreamSVGRef(qw422016, icon, 18, 18, "", ps)
//line views/vworkspace/vwutil/Permissions.html:22
	qw422016.N().S(`</a>
`)
//line views/vworkspace/vwutil/Permissions.html:23
}

//line views/vworkspace/vwutil/Permissions.html:23
func WritePermissionsLink(qq422016 qtio422016.Writer, svc enum.ModelService, id uuid.UUID, permissions util.Permissions, ps *cutil.PageState) {
//line views/vworkspace/vwutil/Permissions.html:23
	qw422016 := qt422016.AcquireWriter(qq422016)
//line views/vworkspace/vwutil/Permissions.html:23
	StreamPermissionsLink(qw422016, svc, id, permissions, ps)
//line views/vworkspace/vwutil/Permissions.html:23
	qt422016.ReleaseWriter(qw422016)
//line views/vworkspace/vwutil/Permissions.html:23
}

//line views/vworkspace/vwutil/Permissions.html:23
func PermissionsLink(svc enum.ModelService, id uuid.UUID, permissions util.Permissions, ps *cutil.PageState) string {
//line views/vworkspace/vwutil/Permissions.html:23
	qb422016 := qt422016.AcquireByteBuffer()
//line views/vworkspace/vwutil/Permissions.html:23
	WritePermissionsLink(qb422016, svc, id, permissions, ps)
//line views/vworkspace/vwutil/Permissions.html:23
	qs422016 := string(qb422016.B)
//line views/vworkspace/vwutil/Permissions.html:23
	qt422016.ReleaseByteBuffer(qb422016)
//line views/vworkspace/vwutil/Permissions.html:23
	return qs422016
//line views/vworkspace/vwutil/Permissions.html:23
}

//line views/vworkspace/vwutil/Permissions.html:25
func StreamPermissionsForm(qw422016 *qt422016.Writer, key string, perms util.Permissions, showTeam bool, teams team.Teams, showSprint bool, sprints sprint.Sprints, ps *cutil.PageState) {
//line views/vworkspace/vwutil/Permissions.html:25
	qw422016.N().S(`
  <em class="title">Permissions</em>
`)
//line views/vworkspace/vwutil/Permissions.html:27
	if showTeam {
//line views/vworkspace/vwutil/Permissions.html:27
		qw422016.N().S(`    <div class="permission-config-team mt"><label>
`)
//line views/vworkspace/vwutil/Permissions.html:29
		if perms.Get(util.KeyTeam, "true") != nil {
//line views/vworkspace/vwutil/Permissions.html:29
			qw422016.N().S(`      <input class="perm-option" type="checkbox" name="perm-team" value="true" checked="checked">
`)
//line views/vworkspace/vwutil/Permissions.html:31
		} else {
//line views/vworkspace/vwutil/Permissions.html:31
			qw422016.N().S(`      <input class="perm-option" type="checkbox" name="perm-team" value="true">
`)
//line views/vworkspace/vwutil/Permissions.html:33
		}
//line views/vworkspace/vwutil/Permissions.html:33
		qw422016.N().S(`      Must be a member of this `)
//line views/vworkspace/vwutil/Permissions.html:34
		qw422016.E().S(key)
//line views/vworkspace/vwutil/Permissions.html:34
		qw422016.N().S(`'s team
    </label></div>
`)
//line views/vworkspace/vwutil/Permissions.html:36
	}
//line views/vworkspace/vwutil/Permissions.html:37
	if showSprint {
//line views/vworkspace/vwutil/Permissions.html:37
		qw422016.N().S(`    <div class="permission-config-sprint mt"><label>
`)
//line views/vworkspace/vwutil/Permissions.html:39
		if perms.Get(util.KeySprint, "true") != nil {
//line views/vworkspace/vwutil/Permissions.html:39
			qw422016.N().S(`      <input class="perm-option" type="checkbox" name="perm-sprint" value="true" checked="checked">
`)
//line views/vworkspace/vwutil/Permissions.html:41
		} else {
//line views/vworkspace/vwutil/Permissions.html:41
			qw422016.N().S(`      <input class="perm-option" type="checkbox" name="perm-sprint" value="true">
`)
//line views/vworkspace/vwutil/Permissions.html:43
		}
//line views/vworkspace/vwutil/Permissions.html:43
		qw422016.N().S(`      Must be a member of this `)
//line views/vworkspace/vwutil/Permissions.html:44
		qw422016.E().S(key)
//line views/vworkspace/vwutil/Permissions.html:44
		qw422016.N().S(`'s sprint
    </label></div>
`)
//line views/vworkspace/vwutil/Permissions.html:46
	}
//line views/vworkspace/vwutil/Permissions.html:47
	if len(ps.Accounts) == 0 {
//line views/vworkspace/vwutil/Permissions.html:47
		qw422016.N().S(`    <div class="mt">Control access to this team by <a href="/profile">signing in</a></div>
`)
//line views/vworkspace/vwutil/Permissions.html:49
	} else {
//line views/vworkspace/vwutil/Permissions.html:50
		for _, perm := range perms {
//line views/vworkspace/vwutil/Permissions.html:51
			if perm.Key != util.KeyTeam && perm.Key != util.KeySprint {
//line views/vworkspace/vwutil/Permissions.html:51
				qw422016.N().S(`
`)
//line views/vworkspace/vwutil/Permissions.html:52
				if ps.Accounts.GetByProviderDomain(perm.Key, perm.Value) == nil {
//line views/vworkspace/vwutil/Permissions.html:52
					qw422016.N().S(`
        <div class="mt"><label>
`)
//line views/vworkspace/vwutil/Permissions.html:54
					if perms.Get(perm.Key, "*") != nil {
//line views/vworkspace/vwutil/Permissions.html:54
						qw422016.N().S(`          <input class="perm-option" type="checkbox" name="perm-`)
//line views/vworkspace/vwutil/Permissions.html:55
						qw422016.E().S(perm.Key)
//line views/vworkspace/vwutil/Permissions.html:55
						qw422016.N().S(`" value="true" checked="checked">
`)
//line views/vworkspace/vwutil/Permissions.html:56
					} else {
//line views/vworkspace/vwutil/Permissions.html:56
						qw422016.N().S(`          <input class="perm-option" type="checkbox" name="perm-`)
//line views/vworkspace/vwutil/Permissions.html:57
						qw422016.E().S(perm.Key)
//line views/vworkspace/vwutil/Permissions.html:57
						qw422016.N().S(`" value="true">
`)
//line views/vworkspace/vwutil/Permissions.html:58
					}
//line views/vworkspace/vwutil/Permissions.html:58
					qw422016.N().S(`          Must be signed into [`)
//line views/vworkspace/vwutil/Permissions.html:59
					qw422016.E().S(perm.Key)
//line views/vworkspace/vwutil/Permissions.html:59
					qw422016.N().S(`]
        </label></div>
        <div class="mt"><label>
`)
//line views/vworkspace/vwutil/Permissions.html:62
					if perms.Get(perm.Key, perm.Value) != nil {
//line views/vworkspace/vwutil/Permissions.html:62
						qw422016.N().S(`          <input class="perm-option" type="checkbox" name="perm-`)
//line views/vworkspace/vwutil/Permissions.html:63
						qw422016.E().S(perm.Key)
//line views/vworkspace/vwutil/Permissions.html:63
						qw422016.N().S(`-`)
//line views/vworkspace/vwutil/Permissions.html:63
						qw422016.E().S(perm.Value)
//line views/vworkspace/vwutil/Permissions.html:63
						qw422016.N().S(`" value="true" checked="checked">
`)
//line views/vworkspace/vwutil/Permissions.html:64
					} else {
//line views/vworkspace/vwutil/Permissions.html:64
						qw422016.N().S(`          <input class="perm-option" type="checkbox" name="perm-`)
//line views/vworkspace/vwutil/Permissions.html:65
						qw422016.E().S(perm.Key)
//line views/vworkspace/vwutil/Permissions.html:65
						qw422016.N().S(`-`)
//line views/vworkspace/vwutil/Permissions.html:65
						qw422016.E().S(perm.Value)
//line views/vworkspace/vwutil/Permissions.html:65
						qw422016.N().S(`" value="true">
`)
//line views/vworkspace/vwutil/Permissions.html:66
					}
//line views/vworkspace/vwutil/Permissions.html:66
					qw422016.N().S(`          Must be signed into [`)
//line views/vworkspace/vwutil/Permissions.html:67
					qw422016.E().S(perm.Key)
//line views/vworkspace/vwutil/Permissions.html:67
					qw422016.N().S(`] from [`)
//line views/vworkspace/vwutil/Permissions.html:67
					qw422016.E().S(perm.Value)
//line views/vworkspace/vwutil/Permissions.html:67
					qw422016.N().S(`]
        </label></div>
`)
//line views/vworkspace/vwutil/Permissions.html:69
				}
//line views/vworkspace/vwutil/Permissions.html:70
			}
//line views/vworkspace/vwutil/Permissions.html:71
		}
//line views/vworkspace/vwutil/Permissions.html:72
		for _, acct := range ps.Accounts {
//line views/vworkspace/vwutil/Permissions.html:72
			qw422016.N().S(`    <div class="mt"><label>
`)
//line views/vworkspace/vwutil/Permissions.html:74
			if perms.Get(acct.Provider, "*") != nil {
//line views/vworkspace/vwutil/Permissions.html:74
				qw422016.N().S(`      <input class="perm-option" type="checkbox" name="perm-`)
//line views/vworkspace/vwutil/Permissions.html:75
				qw422016.E().S(acct.Provider)
//line views/vworkspace/vwutil/Permissions.html:75
				qw422016.N().S(`" value="true" checked="checked">
`)
//line views/vworkspace/vwutil/Permissions.html:76
			} else {
//line views/vworkspace/vwutil/Permissions.html:76
				qw422016.N().S(`      <input class="perm-option" type="checkbox" name="perm-`)
//line views/vworkspace/vwutil/Permissions.html:77
				qw422016.E().S(acct.Provider)
//line views/vworkspace/vwutil/Permissions.html:77
				qw422016.N().S(`" value="true">
`)
//line views/vworkspace/vwutil/Permissions.html:78
			}
//line views/vworkspace/vwutil/Permissions.html:78
			qw422016.N().S(`      Must be signed into [`)
//line views/vworkspace/vwutil/Permissions.html:79
			qw422016.E().S(acct.Provider)
//line views/vworkspace/vwutil/Permissions.html:79
			qw422016.N().S(`]
    </label></div>
    <div class="mt"><label>
`)
//line views/vworkspace/vwutil/Permissions.html:82
			if perms.Get(acct.Provider, acct.Domain()) != nil {
//line views/vworkspace/vwutil/Permissions.html:82
				qw422016.N().S(`      <input class="perm-option" type="checkbox" name="perm-`)
//line views/vworkspace/vwutil/Permissions.html:83
				qw422016.E().S(acct.Provider)
//line views/vworkspace/vwutil/Permissions.html:83
				qw422016.N().S(`-`)
//line views/vworkspace/vwutil/Permissions.html:83
				qw422016.E().S(acct.Domain())
//line views/vworkspace/vwutil/Permissions.html:83
				qw422016.N().S(`" value="true" checked="checked">
`)
//line views/vworkspace/vwutil/Permissions.html:84
			} else {
//line views/vworkspace/vwutil/Permissions.html:84
				qw422016.N().S(`      <input class="perm-option" type="checkbox" name="perm-`)
//line views/vworkspace/vwutil/Permissions.html:85
				qw422016.E().S(acct.Provider)
//line views/vworkspace/vwutil/Permissions.html:85
				qw422016.N().S(`-`)
//line views/vworkspace/vwutil/Permissions.html:85
				qw422016.E().S(acct.Domain())
//line views/vworkspace/vwutil/Permissions.html:85
				qw422016.N().S(`" value="true">
`)
//line views/vworkspace/vwutil/Permissions.html:86
			}
//line views/vworkspace/vwutil/Permissions.html:86
			qw422016.N().S(`      Must be signed into [`)
//line views/vworkspace/vwutil/Permissions.html:87
			qw422016.E().S(acct.Provider)
//line views/vworkspace/vwutil/Permissions.html:87
			qw422016.N().S(`] from [`)
//line views/vworkspace/vwutil/Permissions.html:87
			qw422016.E().S(acct.Domain())
//line views/vworkspace/vwutil/Permissions.html:87
			qw422016.N().S(`]
    </label></div>
`)
//line views/vworkspace/vwutil/Permissions.html:89
		}
//line views/vworkspace/vwutil/Permissions.html:90
	}
//line views/vworkspace/vwutil/Permissions.html:91
}

//line views/vworkspace/vwutil/Permissions.html:91
func WritePermissionsForm(qq422016 qtio422016.Writer, key string, perms util.Permissions, showTeam bool, teams team.Teams, showSprint bool, sprints sprint.Sprints, ps *cutil.PageState) {
//line views/vworkspace/vwutil/Permissions.html:91
	qw422016 := qt422016.AcquireWriter(qq422016)
//line views/vworkspace/vwutil/Permissions.html:91
	StreamPermissionsForm(qw422016, key, perms, showTeam, teams, showSprint, sprints, ps)
//line views/vworkspace/vwutil/Permissions.html:91
	qt422016.ReleaseWriter(qw422016)
//line views/vworkspace/vwutil/Permissions.html:91
}

//line views/vworkspace/vwutil/Permissions.html:91
func PermissionsForm(key string, perms util.Permissions, showTeam bool, teams team.Teams, showSprint bool, sprints sprint.Sprints, ps *cutil.PageState) string {
//line views/vworkspace/vwutil/Permissions.html:91
	qb422016 := qt422016.AcquireByteBuffer()
//line views/vworkspace/vwutil/Permissions.html:91
	WritePermissionsForm(qb422016, key, perms, showTeam, teams, showSprint, sprints, ps)
//line views/vworkspace/vwutil/Permissions.html:91
	qs422016 := string(qb422016.B)
//line views/vworkspace/vwutil/Permissions.html:91
	qt422016.ReleaseByteBuffer(qb422016)
//line views/vworkspace/vwutil/Permissions.html:91
	return qs422016
//line views/vworkspace/vwutil/Permissions.html:91
}
